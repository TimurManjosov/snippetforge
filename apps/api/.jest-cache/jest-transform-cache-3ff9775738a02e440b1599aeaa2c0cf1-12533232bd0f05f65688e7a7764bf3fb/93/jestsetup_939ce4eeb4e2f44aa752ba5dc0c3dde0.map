{"file":"C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\test\\setup\\jest.setup.ts","mappings":";AAAA,2BAA2B;;AAE3B;;;;;GAKG;AAEH,2CAA2C;AAC3C,wBAAwB;AACxB,2CAA2C;AAE3C,yCAAyC;AACzC,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,MAAM,CAAC;AAC9B,OAAO,CAAC,GAAG,CAAC,UAAU;IACpB,yDAAyD,CAAC;AAC5D,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,KAAK,CAAC;AACnC,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,4CAA4C,CAAC;AAExE,2CAA2C;AAC3C,eAAe;AACf,2CAA2C;AAE3C,4DAA4D;AAC5D,kDAAkD;AAClD,qBAAqB;AACrB,iBAAiB;AACjB,qBAAqB;AACrB,sBAAsB;AACtB,qBAAqB;AACrB,qBAAqB;AACrB,sBAAsB;AACtB,IAAI;AAEJ,2CAA2C;AAC3C,kBAAkB;AAClB,2CAA2C;AAE3C,uCAAuC;AACvC,MAAM,CAAC,MAAM,CAAC;IACZ;;OAEG;IACH,QAAQ,CAAC,QAAgB;QACvB,MAAM,SAAS,GACb,wEAAwE,CAAC;QAC3E,MAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEtC,OAAO;YACL,IAAI;YACJ,OAAO,EAAE,GAAG,EAAE,CACZ,IAAI;gBACF,CAAC,CAAC,YAAY,QAAQ,yBAAyB;gBAC/C,CAAC,CAAC,YAAY,QAAQ,qBAAqB;SAChD,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,OAAO,CAAC,QAAgB;QACtB,MAAM,QAAQ,GAAG,kDAAkD,CAAC;QACpE,MAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAErC,OAAO;YACL,IAAI;YACJ,OAAO,EAAE,GAAG,EAAE,CACZ,IAAI;gBACF,CAAC,CAAC,YAAY,QAAQ,wBAAwB;gBAC9C,CAAC,CAAC,YAAY,QAAQ,oBAAoB;SAC/C,CAAC;IACJ,CAAC;CACF,CAAC,CAAC;AAUH,2CAA2C;AAC3C,wBAAwB;AACxB,2CAA2C;AAE3C,oCAAoC;AACpC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC","names":[],"sources":["C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\test\\setup\\jest.setup.ts"],"sourcesContent":["// test/setup/jest.setup.ts\r\n\r\n/**\r\n * Jest Global Setup\r\n *\r\n * Wird VOR jedem Test-File ausgeführt.\r\n * Hier konfigurieren wir globale Test-Einstellungen.\r\n */\r\n\r\n// ========================================\r\n// ENVIRONMENT VARIABLES\r\n// ========================================\r\n\r\n// Test-spezifische Environment Variables\r\nprocess.env.NODE_ENV = 'test';\r\nprocess.env.JWT_SECRET =\r\n  'test-secret-key-for-testing-only-min-32-characters-long';\r\nprocess.env.JWT_EXPIRES_IN = '15m';\r\nprocess.env.DATABASE_URL = 'postgresql://test:test@localhost:5432/test';\r\n\r\n// ========================================\r\n// GLOBAL MOCKS\r\n// ========================================\r\n\r\n// Console Mocks (optional - reduziert Noise in Test Output)\r\n// Auskommentieren wenn Debug-Output benötigt wird\r\n// global.console = {\r\n//   ... console,\r\n//   log: jest. fn(),\r\n//   debug: jest.fn(),\r\n//   info: jest.fn(),\r\n//   warn: jest.fn(),\r\n//   error: jest.fn(),\r\n// }\r\n\r\n// ========================================\r\n// CUSTOM MATCHERS\r\n// ========================================\r\n\r\n// Erweiterte Expect-Matcher (optional)\r\nexpect.extend({\r\n  /**\r\n   * Prüft ob ein Objekt eine UUID enthält\r\n   */\r\n  toBeUUID(received: string) {\r\n    const uuidRegex =\r\n      /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\r\n    const pass = uuidRegex.test(received);\r\n\r\n    return {\r\n      pass,\r\n      message: () =>\r\n        pass\r\n          ? `Expected ${received} not to be a valid UUID`\r\n          : `Expected ${received} to be a valid UUID`,\r\n    };\r\n  },\r\n\r\n  /**\r\n   * Prüft ob ein String ein JWT Token ist\r\n   */\r\n  toBeJWT(received: string) {\r\n    const jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\r\n    const pass = jwtRegex.test(received);\r\n\r\n    return {\r\n      pass,\r\n      message: () =>\r\n        pass\r\n          ? `Expected ${received} not to be a JWT token`\r\n          : `Expected ${received} to be a JWT token`,\r\n    };\r\n  },\r\n});\r\n\r\n// TypeScript Deklaration für Custom Matchers\r\ndeclare module 'expect' {\r\n  interface Matchers<R> {\r\n    toBeUUID(): R;\r\n    toBeJWT(): R;\r\n  }\r\n}\r\n\r\n// ========================================\r\n// GLOBAL TEST UTILITIES\r\n// ========================================\r\n\r\n// Erhöhe Timeout für langsame Tests\r\njest.setTimeout(10000);\r\n"],"version":3}