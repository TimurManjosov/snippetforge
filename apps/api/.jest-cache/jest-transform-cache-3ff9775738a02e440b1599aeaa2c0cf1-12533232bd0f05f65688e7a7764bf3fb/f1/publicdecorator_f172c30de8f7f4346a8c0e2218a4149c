44889e396ea06da0087afbfa94dd34b0
"use strict";
// src/modules/auth/decorators/public.decorator.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.Public = exports.IS_PUBLIC_KEY = void 0;
const common_1 = require("@nestjs/common");
/**
 * Metadata Key für @Public() Decorator
 * Wird von JwtAuthGuard gelesen
 */
exports.IS_PUBLIC_KEY = 'isPublic';
/**
 * @Public() Decorator - Markiert Route als öffentlich (keine Auth nötig)
 *
 * WARUM brauchen wir das?
 * Wenn JwtAuthGuard global aktiv ist, sind ALLE Routes geschützt.
 * Manche Routes (Login, Register, Health) müssen aber öffentlich sein.
 *
 * VERWENDUNG:
 * @Public()
 * @Post('login')
 * login() {}
 *
 * @Public()
 * @Get('health')
 * healthCheck() {}
 *
 * WIE ES FUNKTIONIERT:
 * 1. SetMetadata speichert { isPublic: true } auf Route
 * 2. JwtAuthGuard liest Metadata via Reflector
 * 3. Wenn isPublic === true, wird Auth übersprungen
 */
const Public = () => (0, common_1.SetMetadata)(exports.IS_PUBLIC_KEY, true);
exports.Public = Public;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aW11clxcUHJvZ3JhbW1pbmdcXFByb2plY3RzXFxzbmlwcGV0Zm9yZ2VcXGFwcHNcXGFwaVxcc3JjXFxtb2R1bGVzXFxhdXRoXFxkZWNvcmF0b3JzXFxwdWJsaWMuZGVjb3JhdG9yLnRzIiwibWFwcGluZ3MiOiI7QUFBQSxrREFBa0Q7OztBQUVsRCwyQ0FBNkM7QUFFN0M7OztHQUdHO0FBQ1UsUUFBQSxhQUFhLEdBQUcsVUFBVSxDQUFDO0FBRXhDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW9CRztBQUNJLE1BQU0sTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUEsb0JBQVcsRUFBQyxxQkFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQWhELFFBQUEsTUFBTSxVQUEwQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXHRpbXVyXFxQcm9ncmFtbWluZ1xcUHJvamVjdHNcXHNuaXBwZXRmb3JnZVxcYXBwc1xcYXBpXFxzcmNcXG1vZHVsZXNcXGF1dGhcXGRlY29yYXRvcnNcXHB1YmxpYy5kZWNvcmF0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL21vZHVsZXMvYXV0aC9kZWNvcmF0b3JzL3B1YmxpYy5kZWNvcmF0b3IudHNcclxuXHJcbmltcG9ydCB7IFNldE1ldGFkYXRhIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xyXG5cclxuLyoqXHJcbiAqIE1ldGFkYXRhIEtleSBmw7xyIEBQdWJsaWMoKSBEZWNvcmF0b3JcclxuICogV2lyZCB2b24gSnd0QXV0aEd1YXJkIGdlbGVzZW5cclxuICovXHJcbmV4cG9ydCBjb25zdCBJU19QVUJMSUNfS0VZID0gJ2lzUHVibGljJztcclxuXHJcbi8qKlxyXG4gKiBAUHVibGljKCkgRGVjb3JhdG9yIC0gTWFya2llcnQgUm91dGUgYWxzIMO2ZmZlbnRsaWNoIChrZWluZSBBdXRoIG7DtnRpZylcclxuICpcclxuICogV0FSVU0gYnJhdWNoZW4gd2lyIGRhcz9cclxuICogV2VubiBKd3RBdXRoR3VhcmQgZ2xvYmFsIGFrdGl2IGlzdCwgc2luZCBBTExFIFJvdXRlcyBnZXNjaMO8dHp0LlxyXG4gKiBNYW5jaGUgUm91dGVzIChMb2dpbiwgUmVnaXN0ZXIsIEhlYWx0aCkgbcO8c3NlbiBhYmVyIMO2ZmZlbnRsaWNoIHNlaW4uXHJcbiAqXHJcbiAqIFZFUldFTkRVTkc6XHJcbiAqIEBQdWJsaWMoKVxyXG4gKiBAUG9zdCgnbG9naW4nKVxyXG4gKiBsb2dpbigpIHt9XHJcbiAqXHJcbiAqIEBQdWJsaWMoKVxyXG4gKiBAR2V0KCdoZWFsdGgnKVxyXG4gKiBoZWFsdGhDaGVjaygpIHt9XHJcbiAqXHJcbiAqIFdJRSBFUyBGVU5LVElPTklFUlQ6XHJcbiAqIDEuIFNldE1ldGFkYXRhIHNwZWljaGVydCB7IGlzUHVibGljOiB0cnVlIH0gYXVmIFJvdXRlXHJcbiAqIDIuIEp3dEF1dGhHdWFyZCBsaWVzdCBNZXRhZGF0YSB2aWEgUmVmbGVjdG9yXHJcbiAqIDMuIFdlbm4gaXNQdWJsaWMgPT09IHRydWUsIHdpcmQgQXV0aCDDvGJlcnNwcnVuZ2VuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgUHVibGljID0gKCkgPT4gU2V0TWV0YWRhdGEoSVNfUFVCTElDX0tFWSwgdHJ1ZSk7XHJcbiJdLCJ2ZXJzaW9uIjozfQ==