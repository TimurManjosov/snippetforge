{"version":3,"names":["cov_2qz3ydcxvr","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","createErrorResponse","params","success","error","code","message","statusCode","details","meta","timestamp","Date","toISOString","method","requestId"],"sources":["C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\shared\\types\\error-response.type.ts"],"sourcesContent":["// src/shared/types/error-response.type.ts\r\n\r\nimport { type ErrorCode } from '../constants';\r\n\r\n/**\r\n * Standard Error Response Format\r\n *\r\n * WARUM dieses Format?\r\n * 1. Konsistenz: Frontend kann ALLE Errors gleich parsen\r\n * 2. Debugging: Meta-Daten helfen bei Fehlersuche\r\n * 3. Machine-Readable: Error Code für programmatische Verarbeitung\r\n * 4. Human-Readable: Message für Anzeige\r\n *\r\n * STRUKTUR:\r\n * {\r\n *   success: false,              // Schneller Check\r\n *   error: {\r\n *     code: \"AUTH_TOKEN_EXPIRED\", // Machine-readable\r\n *     message: \"Token expired\",   // Human-readable\r\n *     statusCode: 401,            // HTTP Status\r\n *     details?: {...}           // Zusätzliche Infos (Validation Errors)\r\n *   },\r\n *   meta: {\r\n *     timestamp: \"...\",           // Wann der Error auftrat\r\n *     path: \"/api/auth/me\",       // Welcher Endpoint\r\n *     method: \"GET\",              // Welche HTTP Methode\r\n *     requestId?: \"...\"           // Für Tracing (optional)\r\n *   }\r\n * }\r\n */\r\n\r\n/**\r\n * Error Details - Zusätzliche Informationen zum Error\r\n */\r\nexport interface ErrorDetails {\r\n  /** Feld-spezifische Validation Errors */\r\n  fields?: Record<string, string[]>;\r\n\r\n  /** Zusätzliche Kontext-Informationen */\r\n  context?: Record<string, unknown>;\r\n}\r\n\r\n/**\r\n * Error Object innerhalb der Response\r\n */\r\nexport interface ErrorObject {\r\n  /** Machine-readable Error Code */\r\n  code: ErrorCode;\r\n\r\n  /** Human-readable Error Message */\r\n  message: string;\r\n\r\n  /** HTTP Status Code */\r\n  statusCode: number;\r\n\r\n  /** Optionale Details (z.B. Validation Errors) */\r\n  details?: ErrorDetails;\r\n}\r\n\r\n/**\r\n * Meta-Informationen zur Response\r\n */\r\nexport interface ResponseMeta {\r\n  /** ISO 8601 Timestamp */\r\n  timestamp: string;\r\n\r\n  /** Request Path */\r\n  path: string;\r\n\r\n  /** HTTP Method */\r\n  method: string;\r\n\r\n  /** Request ID für Tracing (falls vorhanden) */\r\n  requestId?: string;\r\n}\r\n\r\n/**\r\n * Vollständige Error Response\r\n */\r\nexport interface ErrorResponse {\r\n  /** Immer false bei Errors */\r\n  success: false;\r\n\r\n  /** Error Details */\r\n  error: ErrorObject;\r\n\r\n  /** Meta-Informationen */\r\n  meta: ResponseMeta;\r\n}\r\n\r\n/**\r\n * Factory Function für Error Response\r\n *\r\n * WARUM Factory statt Constructor?\r\n * - Einfacher zu verwenden\r\n * - Keine Klassen-Instanziierung nötig\r\n * - Bessere Tree-Shaking Möglichkeit\r\n *\r\n * @param params - Error Parameter\r\n * @returns Formatierte Error Response\r\n */\r\nexport function createErrorResponse(params: {\r\n  code: ErrorCode;\r\n  message: string;\r\n  statusCode: number;\r\n  path: string;\r\n  method: string;\r\n  details?: ErrorDetails;\r\n  requestId?: string;\r\n}): ErrorResponse {\r\n  return {\r\n    success: false,\r\n    error: {\r\n      code: params.code,\r\n      message: params.message,\r\n      statusCode: params.statusCode,\r\n      ...(params.details && { details: params.details }),\r\n    },\r\n    meta: {\r\n      timestamp: new Date().toISOString(),\r\n      path: params.path,\r\n      method: params.method,\r\n      ...(params.requestId && { requestId: params.requestId }),\r\n    },\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]}