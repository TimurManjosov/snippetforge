118c85616857919bf2824fd8ab96f5bc
"use strict";
// test/mocks/users.mock.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.createMockUsersService = exports.createMockUsersRepository = void 0;
exports.createMockSafeUser = createMockSafeUser;
exports.createMockFullUser = createMockFullUser;
/**
 * Users Mocks
 *
 * Mock-Implementierungen fÃ¼r UsersRepository und UsersService.
 */
// ========================================
// REPOSITORY MOCK
// ========================================
const createMockUsersRepository = () => ({
    findById: jest.fn(),
    findByEmail: jest.fn(),
    findByUsername: jest.fn(),
    findByEmailOrUsername: jest.fn(),
    create: jest.fn(),
    update: jest.fn(),
    updatePassword: jest.fn(),
    delete: jest.fn(),
    count: jest.fn(),
});
exports.createMockUsersRepository = createMockUsersRepository;
// ========================================
// SERVICE MOCK
// ========================================
const createMockUsersService = () => ({
    create: jest.fn(),
    findById: jest.fn(),
    findByEmail: jest.fn(),
    findByEmailWithPassword: jest.fn(),
    update: jest.fn(),
    changePassword: jest.fn(),
    delete: jest.fn(),
    validateCredentials: jest.fn(),
    hashPassword: jest.fn(),
    comparePassword: jest.fn(),
});
exports.createMockUsersService = createMockUsersService;
// ========================================
// TEST DATA
// ========================================
/**
 * Erstellt einen Mock SafeUser
 */
function createMockSafeUser(overrides = {}) {
    const now = new Date();
    return {
        id: 'test-user-id-123',
        email: 'test@example.com',
        username: 'testuser',
        bio: null,
        avatarUrl: null,
        role: 'USER',
        createdAt: now,
        updatedAt: now,
        ...overrides,
    };
}
/**
 * Erstellt einen Mock FullUser (mit passwordHash)
 */
function createMockFullUser(overrides = {}) {
    return {
        ...createMockSafeUser(overrides),
        passwordHash: '$2a$10$mockHashedPasswordForTesting123456789012',
        ...overrides,
    };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aW11clxcUHJvZ3JhbW1pbmdcXFByb2plY3RzXFxzbmlwcGV0Zm9yZ2VcXGFwcHNcXGFwaVxcdGVzdFxcbW9ja3NcXHVzZXJzLm1vY2sudHMiLCJtYXBwaW5ncyI6IjtBQUFBLDJCQUEyQjs7O0FBc0QzQixnREFlQztBQUtELGdEQVFDO0FBOUVEOzs7O0dBSUc7QUFFSCwyQ0FBMkM7QUFDM0Msa0JBQWtCO0FBQ2xCLDJDQUEyQztBQUVwQyxNQUFNLHlCQUF5QixHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDOUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDbkIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDdEIsY0FBYyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDekIscUJBQXFCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNoQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixjQUFjLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUN6QixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtDQUNqQixDQUFDLENBQUM7QUFWVSxRQUFBLHlCQUF5Qiw2QkFVbkM7QUFJSCwyQ0FBMkM7QUFDM0MsZUFBZTtBQUNmLDJDQUEyQztBQUVwQyxNQUFNLHNCQUFzQixHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDM0MsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDakIsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDbkIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDdEIsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNsQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixjQUFjLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUN6QixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixtQkFBbUIsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQzlCLFlBQVksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ3ZCLGVBQWUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0NBQzNCLENBQUMsQ0FBQztBQVhVLFFBQUEsc0JBQXNCLDBCQVdoQztBQUlILDJDQUEyQztBQUMzQyxZQUFZO0FBQ1osMkNBQTJDO0FBRTNDOztHQUVHO0FBQ0gsU0FBZ0Isa0JBQWtCLENBQ2hDLFlBQStCLEVBQUU7SUFFakMsTUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUN2QixPQUFPO1FBQ0wsRUFBRSxFQUFFLGtCQUFrQjtRQUN0QixLQUFLLEVBQUUsa0JBQWtCO1FBQ3pCLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLEdBQUcsRUFBRSxJQUFJO1FBQ1QsU0FBUyxFQUFFLElBQUk7UUFDZixJQUFJLEVBQUUsTUFBTTtRQUNaLFNBQVMsRUFBRSxHQUFHO1FBQ2QsU0FBUyxFQUFFLEdBQUc7UUFDZCxHQUFHLFNBQVM7S0FDYixDQUFDO0FBQ0osQ0FBQztBQUVEOztHQUVHO0FBQ0gsU0FBZ0Isa0JBQWtCLENBQ2hDLFlBQStCLEVBQUU7SUFFakMsT0FBTztRQUNMLEdBQUcsa0JBQWtCLENBQUMsU0FBUyxDQUFDO1FBQ2hDLFlBQVksRUFBRSxpREFBaUQ7UUFDL0QsR0FBRyxTQUFTO0tBQ2IsQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx0aW11clxcUHJvZ3JhbW1pbmdcXFByb2plY3RzXFxzbmlwcGV0Zm9yZ2VcXGFwcHNcXGFwaVxcdGVzdFxcbW9ja3NcXHVzZXJzLm1vY2sudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGVzdC9tb2Nrcy91c2Vycy5tb2NrLnRzXHJcblxyXG5pbXBvcnQgeyB0eXBlIEZ1bGxVc2VyLCB0eXBlIFNhZmVVc2VyIH0gZnJvbSAnLi4vLi4vc3JjL21vZHVsZXMvdXNlcnMnO1xyXG5cclxuLyoqXHJcbiAqIFVzZXJzIE1vY2tzXHJcbiAqXHJcbiAqIE1vY2stSW1wbGVtZW50aWVydW5nZW4gZsO8ciBVc2Vyc1JlcG9zaXRvcnkgdW5kIFVzZXJzU2VydmljZS5cclxuICovXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFJFUE9TSVRPUlkgTU9DS1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTW9ja1VzZXJzUmVwb3NpdG9yeSA9ICgpID0+ICh7XHJcbiAgZmluZEJ5SWQ6IGplc3QuZm4oKSxcclxuICBmaW5kQnlFbWFpbDogamVzdC5mbigpLFxyXG4gIGZpbmRCeVVzZXJuYW1lOiBqZXN0LmZuKCksXHJcbiAgZmluZEJ5RW1haWxPclVzZXJuYW1lOiBqZXN0LmZuKCksXHJcbiAgY3JlYXRlOiBqZXN0LmZuKCksXHJcbiAgdXBkYXRlOiBqZXN0LmZuKCksXHJcbiAgdXBkYXRlUGFzc3dvcmQ6IGplc3QuZm4oKSxcclxuICBkZWxldGU6IGplc3QuZm4oKSxcclxuICBjb3VudDogamVzdC5mbigpLFxyXG59KTtcclxuXHJcbmV4cG9ydCB0eXBlIE1vY2tVc2Vyc1JlcG9zaXRvcnkgPSBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVNb2NrVXNlcnNSZXBvc2l0b3J5PjtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU0VSVklDRSBNT0NLXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVNb2NrVXNlcnNTZXJ2aWNlID0gKCkgPT4gKHtcclxuICBjcmVhdGU6IGplc3QuZm4oKSxcclxuICBmaW5kQnlJZDogamVzdC5mbigpLFxyXG4gIGZpbmRCeUVtYWlsOiBqZXN0LmZuKCksXHJcbiAgZmluZEJ5RW1haWxXaXRoUGFzc3dvcmQ6IGplc3QuZm4oKSxcclxuICB1cGRhdGU6IGplc3QuZm4oKSxcclxuICBjaGFuZ2VQYXNzd29yZDogamVzdC5mbigpLFxyXG4gIGRlbGV0ZTogamVzdC5mbigpLFxyXG4gIHZhbGlkYXRlQ3JlZGVudGlhbHM6IGplc3QuZm4oKSxcclxuICBoYXNoUGFzc3dvcmQ6IGplc3QuZm4oKSxcclxuICBjb21wYXJlUGFzc3dvcmQ6IGplc3QuZm4oKSxcclxufSk7XHJcblxyXG5leHBvcnQgdHlwZSBNb2NrVXNlcnNTZXJ2aWNlID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlTW9ja1VzZXJzU2VydmljZT47XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRFU1QgREFUQVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogRXJzdGVsbHQgZWluZW4gTW9jayBTYWZlVXNlclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vY2tTYWZlVXNlcihcclxuICBvdmVycmlkZXM6IFBhcnRpYWw8U2FmZVVzZXI+ID0ge30sXHJcbik6IFNhZmVVc2VyIHtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIHJldHVybiB7XHJcbiAgICBpZDogJ3Rlc3QtdXNlci1pZC0xMjMnLFxyXG4gICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcclxuICAgIHVzZXJuYW1lOiAndGVzdHVzZXInLFxyXG4gICAgYmlvOiBudWxsLFxyXG4gICAgYXZhdGFyVXJsOiBudWxsLFxyXG4gICAgcm9sZTogJ1VTRVInLFxyXG4gICAgY3JlYXRlZEF0OiBub3csXHJcbiAgICB1cGRhdGVkQXQ6IG5vdyxcclxuICAgIC4uLm92ZXJyaWRlcyxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogRXJzdGVsbHQgZWluZW4gTW9jayBGdWxsVXNlciAobWl0IHBhc3N3b3JkSGFzaClcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb2NrRnVsbFVzZXIoXHJcbiAgb3ZlcnJpZGVzOiBQYXJ0aWFsPEZ1bGxVc2VyPiA9IHt9LFxyXG4pOiBGdWxsVXNlciB7XHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLmNyZWF0ZU1vY2tTYWZlVXNlcihvdmVycmlkZXMpLFxyXG4gICAgcGFzc3dvcmRIYXNoOiAnJDJhJDEwJG1vY2tIYXNoZWRQYXNzd29yZEZvclRlc3RpbmcxMjM0NTY3ODkwMTInLFxyXG4gICAgLi4ub3ZlcnJpZGVzLFxyXG4gIH07XHJcbn1cclxuIl0sInZlcnNpb24iOjN9