78ede93a69b3db58be440ff17f2c4e28
"use strict";
// test/mocks/database.mock.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.createMockDatabaseService = void 0;
/**
 * Database Service Mock
 *
 * Mockt den DatabaseService für Unit Tests.
 * Keine echte DB-Verbindung nötig.
 */
const createMockDatabaseService = () => ({
    drizzle: {
        query: {
            users: {
                findFirst: jest.fn(),
                findMany: jest.fn(),
            },
        },
        insert: jest.fn().mockReturnValue({
            values: jest.fn().mockReturnValue({
                returning: jest.fn(),
            }),
        }),
        update: jest.fn().mockReturnValue({
            set: jest.fn().mockReturnValue({
                where: jest.fn().mockReturnValue({
                    returning: jest.fn(),
                }),
            }),
        }),
        delete: jest.fn().mockReturnValue({
            where: jest.fn().mockReturnValue({
                returning: jest.fn(),
            }),
        }),
        select: jest.fn().mockReturnValue({
            from: jest.fn().mockReturnValue({
                where: jest.fn(),
            }),
        }),
    },
    healthCheck: jest.fn().mockResolvedValue(true),
    onModuleInit: jest.fn(),
    onModuleDestroy: jest.fn(),
});
exports.createMockDatabaseService = createMockDatabaseService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aW11clxcUHJvZ3JhbW1pbmdcXFByb2plY3RzXFxzbmlwcGV0Zm9yZ2VcXGFwcHNcXGFwaVxcdGVzdFxcbW9ja3NcXGRhdGFiYXNlLm1vY2sudHMiLCJtYXBwaW5ncyI6IjtBQUFBLDhCQUE4Qjs7O0FBRTlCOzs7OztHQUtHO0FBRUksTUFBTSx5QkFBeUIsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQzlDLE9BQU8sRUFBRTtRQUNQLEtBQUssRUFBRTtZQUNMLEtBQUssRUFBRTtnQkFDTCxTQUFTLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtnQkFDcEIsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7YUFDcEI7U0FDRjtRQUNELE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO1lBQ2hDLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO2dCQUNoQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTthQUNyQixDQUFDO1NBQ0gsQ0FBQztRQUNGLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO1lBQ2hDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO2dCQUM3QixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGVBQWUsQ0FBQztvQkFDL0IsU0FBUyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7aUJBQ3JCLENBQUM7YUFDSCxDQUFDO1NBQ0gsQ0FBQztRQUNGLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO1lBQ2hDLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO2dCQUMvQixTQUFTLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTthQUNyQixDQUFDO1NBQ0gsQ0FBQztRQUNGLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO1lBQ2hDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO2dCQUM5QixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTthQUNqQixDQUFDO1NBQ0gsQ0FBQztLQUNIO0lBQ0QsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7SUFDOUMsWUFBWSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDdkIsZUFBZSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7Q0FDM0IsQ0FBQyxDQUFDO0FBbENVLFFBQUEseUJBQXlCLDZCQWtDbkMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx0aW11clxcUHJvZ3JhbW1pbmdcXFByb2plY3RzXFxzbmlwcGV0Zm9yZ2VcXGFwcHNcXGFwaVxcdGVzdFxcbW9ja3NcXGRhdGFiYXNlLm1vY2sudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGVzdC9tb2Nrcy9kYXRhYmFzZS5tb2NrLnRzXHJcblxyXG4vKipcclxuICogRGF0YWJhc2UgU2VydmljZSBNb2NrXHJcbiAqXHJcbiAqIE1vY2t0IGRlbiBEYXRhYmFzZVNlcnZpY2UgZsO8ciBVbml0IFRlc3RzLlxyXG4gKiBLZWluZSBlY2h0ZSBEQi1WZXJiaW5kdW5nIG7DtnRpZy5cclxuICovXHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTW9ja0RhdGFiYXNlU2VydmljZSA9ICgpID0+ICh7XHJcbiAgZHJpenpsZToge1xyXG4gICAgcXVlcnk6IHtcclxuICAgICAgdXNlcnM6IHtcclxuICAgICAgICBmaW5kRmlyc3Q6IGplc3QuZm4oKSxcclxuICAgICAgICBmaW5kTWFueTogamVzdC5mbigpLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIHZhbHVlczogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgcmV0dXJuaW5nOiBqZXN0LmZuKCksXHJcbiAgICAgIH0pLFxyXG4gICAgfSksXHJcbiAgICB1cGRhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBzZXQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICAgIHdoZXJlOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgICAgIHJldHVybmluZzogamVzdC5mbigpLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KSxcclxuICAgIH0pLFxyXG4gICAgZGVsZXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgd2hlcmU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICAgIHJldHVybmluZzogamVzdC5mbigpLFxyXG4gICAgICB9KSxcclxuICAgIH0pLFxyXG4gICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgZnJvbTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgd2hlcmU6IGplc3QuZm4oKSxcclxuICAgICAgfSksXHJcbiAgICB9KSxcclxuICB9LFxyXG4gIGhlYWx0aENoZWNrOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXHJcbiAgb25Nb2R1bGVJbml0OiBqZXN0LmZuKCksXHJcbiAgb25Nb2R1bGVEZXN0cm95OiBqZXN0LmZuKCksXHJcbn0pO1xyXG5cclxuZXhwb3J0IHR5cGUgTW9ja0RhdGFiYXNlU2VydmljZSA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZU1vY2tEYXRhYmFzZVNlcnZpY2U+O1xyXG4iXSwidmVyc2lvbiI6M30=