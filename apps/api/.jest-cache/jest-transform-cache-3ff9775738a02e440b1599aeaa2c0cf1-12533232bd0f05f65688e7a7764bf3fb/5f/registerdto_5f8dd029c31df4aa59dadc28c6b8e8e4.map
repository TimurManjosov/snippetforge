{"file":"C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\modules\\auth\\dto\\register.dto.ts","mappings":";AAAA,uCAAuC;;;AAuEvC,kDAEC;AAMD,0DAEC;AA/ED,6BAAwB;AAExB;;;;;;;;;;;;;;GAcG;AAEH,oEAAoE;AACpE,MAAM,cAAc,GAAG,iBAAiB,CAAC;AAEzC,gEAAgE;AAChE,MAAM,cAAc,GAAG,iCAAiC,CAAC;AAE5C,QAAA,cAAc,GAAG,OAAC,CAAC,MAAM,CAAC;IACrC,KAAK,EAAE,OAAC;SACL,MAAM,EAAE;SACR,KAAK,CAAC,sBAAsB,CAAC;SAC7B,GAAG,CAAC,GAAG,EAAE,sCAAsC,CAAC;SAChD,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC,EAAE,iBAAiB;IAElE,QAAQ,EAAE,OAAC;SACR,MAAM,EAAE;SACR,GAAG,CAAC,CAAC,EAAE,wCAAwC,CAAC;SAChD,GAAG,CAAC,EAAE,EAAE,wCAAwC,CAAC;SACjD,KAAK,CACJ,cAAc,EACd,6DAA6D,CAC9D;SACA,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;IAEjC,QAAQ,EAAE,OAAC;SACR,MAAM,EAAE;SACR,GAAG,CAAC,CAAC,EAAE,wCAAwC,CAAC;SAChD,GAAG,CAAC,GAAG,EAAE,yCAAyC,CAAC;SACnD,KAAK,CACJ,cAAc,EACd,2FAA2F,CAC5F;CACJ,CAAC,CAAC;AAgBH;;;GAGG;AACH,SAAgB,mBAAmB,CAAC,IAAa;IAC/C,OAAO,sBAAc,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC;AAED;;;GAGG;AACH,SAAgB,uBAAuB,CAAC,IAAa;IACnD,OAAO,sBAAc,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AACxC,CAAC","names":[],"sources":["C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\modules\\auth\\dto\\register.dto.ts"],"sourcesContent":["// src/modules/auth/dto/register.dto.ts\r\n\r\nimport { z } from 'zod';\r\n\r\n/**\r\n * Register DTO - Validierung für User-Registrierung\r\n *\r\n * WARUM Zod statt class-validator?\r\n * 1. Type Inference:  Schema generiert automatisch TypeScript Types\r\n * 2. Runtime + Compile-Time Safety:  Ein Schema für beides\r\n * 3. Bessere Fehlermeldungen:  Detaillierte Validation Errors\r\n * 4. Shared:  Kann in Frontend UND Backend verwendet werden\r\n * 5. Functional:  Kein Decorator-Magic, pure Functions\r\n *\r\n * VALIDATION RULES:\r\n * - email:  Valides Email-Format, lowercase\r\n * - username: 3-30 Zeichen, alphanumerisch + underscore\r\n * - password:  Min 8 Zeichen, Komplexitätsregeln\r\n */\r\n\r\n// Username Pattern:  Alphanumerisch + Underscore, keine Leerzeichen\r\nconst USERNAME_REGEX = /^[a-zA-Z0-9_]+$/;\r\n\r\n// Password muss enthalten:  Großbuchstabe, Kleinbuchstabe, Zahl\r\nconst PASSWORD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/;\r\n\r\nexport const RegisterSchema = z.object({\r\n  email: z\r\n    .string()\r\n    .email('Invalid email format')\r\n    .max(255, 'Email must be at most 255 characters')\r\n    .transform((val) => val.toLowerCase().trim()), // Normalisierung\r\n\r\n  username: z\r\n    .string()\r\n    .min(3, 'Username must be at least 3 characters')\r\n    .max(30, 'Username must be at most 30 characters')\r\n    .regex(\r\n      USERNAME_REGEX,\r\n      'Username can only contain letters, numbers, and underscores',\r\n    )\r\n    .transform((val) => val.trim()),\r\n\r\n  password: z\r\n    .string()\r\n    .min(8, 'Password must be at least 8 characters')\r\n    .max(100, 'Password must be at most 100 characters')\r\n    .regex(\r\n      PASSWORD_REGEX,\r\n      'Password must contain at least one uppercase letter, one lowercase letter, and one number',\r\n    ),\r\n});\r\n\r\n/**\r\n * TypeScript Type aus Schema generiert\r\n *\r\n * Equivalent zu:\r\n * interface RegisterDto {\r\n *   email: string\r\n *   username: string\r\n *   password: string\r\n * }\r\n *\r\n * ABER: Automatisch synchron mit Validation Rules!\r\n */\r\nexport type RegisterDto = z.infer<typeof RegisterSchema>;\r\n\r\n/**\r\n * Validation Function\r\n * Kann auch außerhalb von NestJS verwendet werden\r\n */\r\nexport function validateRegisterDto(data: unknown): RegisterDto {\r\n  return RegisterSchema.parse(data);\r\n}\r\n\r\n/**\r\n * Safe Validation (wirft keinen Error)\r\n * Gibt Result-Object zurück\r\n */\r\nexport function safeValidateRegisterDto(data: unknown) {\r\n  return RegisterSchema.safeParse(data);\r\n}\r\n"],"version":3}