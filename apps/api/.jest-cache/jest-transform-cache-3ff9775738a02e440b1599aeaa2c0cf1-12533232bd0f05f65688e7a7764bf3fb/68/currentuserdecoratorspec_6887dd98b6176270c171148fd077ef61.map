{"file":"C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\test\\unit\\decorators\\current-user.decorator.spec.ts","mappings":";;AACA,wGAA0F;AAC1F,uDAAoE;AAEpE,QAAQ,CAAC,uBAAuB,EAAE,GAAG,EAAE;IACrC,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACnD,MAAM,GAAG,GAAG,IAAA,uCAA0B,GAAE,CAAC;QAEzC,MAAM,MAAM,GAAG,IAAA,oCAAW,EAAC,SAAS,EAAE,GAAkC,CAAC,CAAC;QAE1E,MAAM,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,CAAC;IACjC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,iDAAiD,EAAE,GAAG,EAAE;QACzD,MAAM,IAAI,GAAG;YACX,EAAE,EAAE,QAAQ;YACZ,KAAK,EAAE,kBAAkB;YACzB,QAAQ,EAAE,QAAQ;SACnB,CAAC;QACF,MAAM,GAAG,GAAG,IAAA,uCAA0B,EAAC,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;QAE9D,MAAM,MAAM,GAAG,IAAA,oCAAW,EAAC,SAAS,EAAE,GAAkC,CAAC,CAAC;QAE1E,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gDAAgD,EAAE,GAAG,EAAE;QACxD,MAAM,IAAI,GAAG;YACX,EAAE,EAAE,QAAQ;YACZ,KAAK,EAAE,mBAAmB;YAC1B,QAAQ,EAAE,SAAS;SACpB,CAAC;QACF,MAAM,GAAG,GAAG,IAAA,uCAA0B,EAAC,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;QAE9D,MAAM,MAAM,GAAG,IAAA,oCAAW,EAAC,OAAO,EAAE,GAAkC,CAAC,CAAC;QAExE,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\test\\unit\\decorators\\current-user.decorator.spec.ts"],"sourcesContent":["import { type ExecutionContext } from '@nestjs/common';\r\nimport { CurrentUser } from '../../../src/modules/auth/decorators/current-user.decorator';\r\nimport { createMockExecutionContext } from '../../setup/test-utils';\r\n\r\ndescribe('CurrentUser decorator', () => {\r\n  it('returns undefined when no user is present', () => {\r\n    const ctx = createMockExecutionContext();\r\n\r\n    const result = CurrentUser(undefined, ctx as unknown as ExecutionContext);\r\n\r\n    expect(result).toBeUndefined();\r\n  });\r\n\r\n  it('returns full user when no property is requested', () => {\r\n    const user = {\r\n      id: 'user-1',\r\n      email: 'user@example.com',\r\n      username: 'tester',\r\n    };\r\n    const ctx = createMockExecutionContext({ request: { user } });\r\n\r\n    const result = CurrentUser(undefined, ctx as unknown as ExecutionContext);\r\n\r\n    expect(result).toEqual(user);\r\n  });\r\n\r\n  it('returns a single property when key is provided', () => {\r\n    const user = {\r\n      id: 'user-2',\r\n      email: 'user2@example.com',\r\n      username: 'tester2',\r\n    };\r\n    const ctx = createMockExecutionContext({ request: { user } });\r\n\r\n    const result = CurrentUser('email', ctx as unknown as ExecutionContext);\r\n\r\n    expect(result).toBe(user.email);\r\n  });\r\n});\r\n"],"version":3}