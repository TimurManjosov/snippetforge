{"file":"C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\test\\mocks\\database.mock.ts","mappings":";AAAA,8BAA8B;;;AAE9B;;;;;GAKG;AAEI,MAAM,yBAAyB,GAAG,GAAG,EAAE,CAAC,CAAC;IAC9C,OAAO,EAAE;QACP,KAAK,EAAE;YACL,2CAA2C;YAC3C,cAAc;YACd,2CAA2C;YAC3C,KAAK,EAAE;gBACL,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;gBACpB,QAAQ,EAAE,IAAI,CAAC,EAAE,EAAE;aACpB;YAED,2CAA2C;YAC3C,wBAAwB;YACxB,2CAA2C;YAC3C,QAAQ,EAAE;gBACR,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;gBACpB,QAAQ,EAAE,IAAI,CAAC,EAAE,EAAE;aACpB;SACF;QAED,2CAA2C;QAC3C,wBAAwB;QACxB,2CAA2C;QAC3C,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;YAChC,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;gBAChC,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;aACrB,CAAC;SACH,CAAC;QAEF,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;YAChC,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;gBAC7B,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;oBAC/B,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;iBACrB,CAAC;aACH,CAAC;SACH,CAAC;QAEF,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;YAChC,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;gBAC/B,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;aACrB,CAAC;SACH,CAAC;QAEF,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;YAChC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;gBAC9B,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;oBAC/B,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;wBACjC,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;qBACnB,CAAC;iBACH,CAAC;gBACF,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;oBAC/B,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;wBAChC,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;qBACnB,CAAC;iBACH,CAAC;gBACF,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;aACnB,CAAC;SACH,CAAC;KACH;IAED,2CAA2C;IAC3C,2BAA2B;IAC3B,2CAA2C;IAC3C,WAAW,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,iBAAiB,CAAC,IAAI,CAAC;IAC9C,YAAY,EAAE,IAAI,CAAC,EAAE,EAAE;IACvB,eAAe,EAAE,IAAI,CAAC,EAAE,EAAE;CAC3B,CAAC,CAAC;AAlEU,QAAA,yBAAyB,6BAkEnC","names":[],"sources":["C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\test\\mocks\\database.mock.ts"],"sourcesContent":["// test/mocks/database.mock.ts\r\n\r\n/**\r\n * Database Service Mock\r\n *\r\n * Mockt den DatabaseService für Unit Tests.\r\n * Keine echte DB-Verbindung nötig.\r\n */\r\n\r\nexport const createMockDatabaseService = () => ({\r\n  drizzle: {\r\n    query: {\r\n      // ========================================\r\n      // USERS TABLE\r\n      // ========================================\r\n      users: {\r\n        findFirst: jest.fn(),\r\n        findMany: jest.fn(),\r\n      },\r\n\r\n      // ========================================\r\n      // SNIPPETS TABLE (NEU!)\r\n      // ========================================\r\n      snippets: {\r\n        findFirst: jest.fn(),\r\n        findMany: jest.fn(),\r\n      },\r\n    },\r\n\r\n    // ========================================\r\n    // QUERY BUILDER METHODS\r\n    // ========================================\r\n    insert: jest.fn().mockReturnValue({\r\n      values: jest.fn().mockReturnValue({\r\n        returning: jest.fn(),\r\n      }),\r\n    }),\r\n\r\n    update: jest.fn().mockReturnValue({\r\n      set: jest.fn().mockReturnValue({\r\n        where: jest.fn().mockReturnValue({\r\n          returning: jest.fn(),\r\n        }),\r\n      }),\r\n    }),\r\n\r\n    delete: jest.fn().mockReturnValue({\r\n      where: jest.fn().mockReturnValue({\r\n        returning: jest.fn(),\r\n      }),\r\n    }),\r\n\r\n    select: jest.fn().mockReturnValue({\r\n      from: jest.fn().mockReturnValue({\r\n        where: jest.fn().mockReturnValue({\r\n          groupBy: jest.fn().mockReturnValue({\r\n            orderBy: jest.fn(),\r\n          }),\r\n        }),\r\n        limit: jest.fn().mockReturnValue({\r\n          offset: jest.fn().mockReturnValue({\r\n            orderBy: jest.fn(),\r\n          }),\r\n        }),\r\n        orderBy: jest.fn(),\r\n      }),\r\n    }),\r\n  },\r\n\r\n  // ========================================\r\n  // DATABASE SERVICE METHODS\r\n  // ========================================\r\n  healthCheck: jest.fn().mockResolvedValue(true),\r\n  onModuleInit: jest.fn(),\r\n  onModuleDestroy: jest.fn(),\r\n});\r\n\r\nexport type MockDatabaseService = ReturnType<typeof createMockDatabaseService>;\r\n"],"version":3}