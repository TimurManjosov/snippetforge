{"file":"C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\modules\\auth\\auth.module.ts","mappings":";AAAA,kCAAkC;;;;;;;;;AAElC,2CAAwC;AACxC,2CAA6D;AAC7D,qCAAwC;AACxC,+CAAkD;AAElD,oCAAuC;AACvC,uDAAmD;AACnD,iDAA6C;AAC7C,4DAAuD;AACvD,sDAAkD;AAClD,4DAAwD;AAExD;;;;;;;;;;;;;;;GAeG;AAqCI,IAAM,UAAU,GAAhB,MAAM,UAAU;CAAG,CAAA;AAAb,gCAAU;qBAAV,UAAU;IApCtB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE;YACP,0BAA0B;YAC1B,yBAAc,CAAC,QAAQ,CAAC;gBACtB,eAAe,EAAE,KAAK;aACvB,CAAC;YAEF,4DAA4D;YAC5D,eAAS,CAAC,aAAa,CAAC;gBACtB,OAAO,EAAE,CAAC,qBAAY,CAAC;gBACvB,MAAM,EAAE,CAAC,sBAAa,CAAC;gBACvB,UAAU,EAAE,CAAC,aAA4B,EAAE,EAAE;oBAC3C,MAAM,SAAS,GAAG,CAAC,aAAa,CAAC,GAAG,CAAS,gBAAgB,CAAC;wBAC5D,MAAM,CAAgB,CAAC;oBACzB,OAAO;wBACL,MAAM,EAAE,aAAa,CAAC,GAAG,CAAS,YAAY,CAAC;wBAC/C,WAAW,EAAE;4BACX,SAAS;4BACT,SAAS,EAAE,OAAgB;yBAC5B;qBACF,CAAC;gBACJ,CAAC;aACF,CAAC;YAEF,2CAA2C;YAC3C,mBAAW;SACZ;QACD,WAAW,EAAE,CAAC,gCAAc,CAAC;QAC7B,SAAS,EAAE,CAAC,0BAAW,EAAE,0BAAW,EAAE,6BAAY,EAAE,wBAAU,CAAC;QAC/D,OAAO,EAAE;YACP,oCAAoC;YACpC,0BAAW;YACX,6BAAY;YACZ,wBAAU;SACX;KACF,CAAC;GACW,UAAU,CAAG","names":[],"sources":["C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\modules\\auth\\auth.module.ts"],"sourcesContent":["// src/modules/auth/auth.module.ts\r\n\r\nimport { Module } from '@nestjs/common';\r\nimport { ConfigModule, ConfigService } from '@nestjs/config';\r\nimport { JwtModule } from '@nestjs/jwt';\r\nimport { PassportModule } from '@nestjs/passport';\r\nimport type { StringValue } from 'ms';\r\nimport { UsersModule } from '../users';\r\nimport { AuthController } from './auth.controller';\r\nimport { AuthService } from './auth.service';\r\nimport { JwtAuthGuard } from './guards/jwt-auth.guard';\r\nimport { RolesGuard } from './guards/roles.guard';\r\nimport { JwtStrategy } from './strategies/jwt.strategy';\r\n\r\n/**\r\n * AuthModule - Alles rund um Authentication\r\n *\r\n * IMPORTS:\r\n * - PassportModule:  Basis für Authentication Strategies\r\n * - JwtModule:  JWT Token Handling (Sign/Verify)\r\n * - UsersModule: Zugriff auf UsersService\r\n *\r\n * PROVIDERS:\r\n * - AuthService:  Business Logic\r\n * - JwtStrategy: Token Validierung\r\n * - Guards: JwtAuthGuard, RolesGuard\r\n *\r\n * EXPORTS:\r\n * - Guards und Service für Verwendung in anderen Modulen\r\n */\r\n@Module({\r\n  imports: [\r\n    // Passport.js Basis-Modul\r\n    PassportModule.register({\r\n      defaultStrategy: 'jwt',\r\n    }),\r\n\r\n    // JWT Modul mit async Konfiguration (braucht ConfigService)\r\n    JwtModule.registerAsync({\r\n      imports: [ConfigModule],\r\n      inject: [ConfigService],\r\n      useFactory: (configService: ConfigService) => {\r\n        const expiresIn = (configService.get<string>('JWT_EXPIRES_IN') ||\r\n          '900s') as StringValue;\r\n        return {\r\n          secret: configService.get<string>('JWT_SECRET'),\r\n          signOptions: {\r\n            expiresIn,\r\n            algorithm: 'HS256' as const,\r\n          },\r\n        };\r\n      },\r\n    }),\r\n\r\n    // UsersModule für Zugriff auf UsersService\r\n    UsersModule,\r\n  ],\r\n  controllers: [AuthController],\r\n  providers: [AuthService, JwtStrategy, JwtAuthGuard, RolesGuard],\r\n  exports: [\r\n    // Andere Module können diese nutzen\r\n    AuthService,\r\n    JwtAuthGuard,\r\n    RolesGuard,\r\n  ],\r\n})\r\nexport class AuthModule {}\r\n"],"version":3}