{"file":"C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\modules\\auth\\decorators\\roles.decorator.ts","mappings":";AAAA,iDAAiD;;;AAEjD,2CAA6C;AAE7C;;;GAGG;AACU,QAAA,SAAS,GAAG,OAAO,CAAC;AAQjC;;;;;;;;;;;;;;;;;GAiBG;AACI,MAAM,KAAK,GAAG,CAAC,GAAG,KAAa,EAAE,EAAE,CAAC,IAAA,oBAAW,EAAC,iBAAS,EAAE,KAAK,CAAC,CAAC;AAA5D,QAAA,KAAK,SAAuD","names":[],"sources":["C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\modules\\auth\\decorators\\roles.decorator.ts"],"sourcesContent":["// src/modules/auth/decorators/roles.decorator.ts\r\n\r\nimport { SetMetadata } from '@nestjs/common';\r\n\r\n/**\r\n * Metadata Key für @Roles() Decorator\r\n * Wird von RolesGuard gelesen\r\n */\r\nexport const ROLES_KEY = 'roles';\r\n\r\n/**\r\n * Erlaubte Rollen (aus DB Schema)\r\n * Type-Safety: Nur diese Werte können übergeben werden\r\n */\r\nexport type Role = 'USER' | 'ADMIN' | 'MODERATOR';\r\n\r\n/**\r\n * @Roles() Decorator - Definiert welche Rollen Zugriff haben\r\n *\r\n * VERWENDUNG:\r\n * @Roles('ADMIN')\r\n * @UseGuards(JwtAuthGuard, RolesGuard)\r\n * deleteUser() {}\r\n *\r\n * // Mehrere Rollen (OR - eine reicht)\r\n * @Roles('ADMIN', 'MODERATOR')\r\n * @UseGuards(JwtAuthGuard, RolesGuard)\r\n * moderateContent() {}\r\n *\r\n * WICHTIG: Immer mit RolesGuard kombinieren!\r\n * @Roles() alleine macht nichts.\r\n *\r\n * @param roles - Erlaubte Rollen (mindestens eine muss User haben)\r\n */\r\nexport const Roles = (...roles: Role[]) => SetMetadata(ROLES_KEY, roles);\r\n"],"version":3}