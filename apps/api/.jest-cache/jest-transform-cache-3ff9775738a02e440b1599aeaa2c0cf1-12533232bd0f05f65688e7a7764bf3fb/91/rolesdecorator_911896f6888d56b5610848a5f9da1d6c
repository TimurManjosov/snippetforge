53b6cadf8f96e531c55f9667da0418f4
"use strict";
// src/modules/auth/decorators/roles.decorator.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.Roles = exports.ROLES_KEY = void 0;
const common_1 = require("@nestjs/common");
/**
 * Metadata Key fÃ¼r @Roles() Decorator
 * Wird von RolesGuard gelesen
 */
exports.ROLES_KEY = 'roles';
/**
 * @Roles() Decorator - Definiert welche Rollen Zugriff haben
 *
 * VERWENDUNG:
 * @Roles('ADMIN')
 * @UseGuards(JwtAuthGuard, RolesGuard)
 * deleteUser() {}
 *
 * // Mehrere Rollen (OR - eine reicht)
 * @Roles('ADMIN', 'MODERATOR')
 * @UseGuards(JwtAuthGuard, RolesGuard)
 * moderateContent() {}
 *
 * WICHTIG: Immer mit RolesGuard kombinieren!
 * @Roles() alleine macht nichts.
 *
 * @param roles - Erlaubte Rollen (mindestens eine muss User haben)
 */
const Roles = (...roles) => (0, common_1.SetMetadata)(exports.ROLES_KEY, roles);
exports.Roles = Roles;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aW11clxcUHJvZ3JhbW1pbmdcXFByb2plY3RzXFxzbmlwcGV0Zm9yZ2VcXGFwcHNcXGFwaVxcc3JjXFxtb2R1bGVzXFxhdXRoXFxkZWNvcmF0b3JzXFxyb2xlcy5kZWNvcmF0b3IudHMiLCJtYXBwaW5ncyI6IjtBQUFBLGlEQUFpRDs7O0FBRWpELDJDQUE2QztBQUU3Qzs7O0dBR0c7QUFDVSxRQUFBLFNBQVMsR0FBRyxPQUFPLENBQUM7QUFRakM7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBaUJHO0FBQ0ksTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQWEsRUFBRSxFQUFFLENBQUMsSUFBQSxvQkFBVyxFQUFDLGlCQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFBNUQsUUFBQSxLQUFLLFNBQXVEIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdGltdXJcXFByb2dyYW1taW5nXFxQcm9qZWN0c1xcc25pcHBldGZvcmdlXFxhcHBzXFxhcGlcXHNyY1xcbW9kdWxlc1xcYXV0aFxcZGVjb3JhdG9yc1xccm9sZXMuZGVjb3JhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9tb2R1bGVzL2F1dGgvZGVjb3JhdG9ycy9yb2xlcy5kZWNvcmF0b3IudHNcclxuXHJcbmltcG9ydCB7IFNldE1ldGFkYXRhIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xyXG5cclxuLyoqXHJcbiAqIE1ldGFkYXRhIEtleSBmw7xyIEBSb2xlcygpIERlY29yYXRvclxyXG4gKiBXaXJkIHZvbiBSb2xlc0d1YXJkIGdlbGVzZW5cclxuICovXHJcbmV4cG9ydCBjb25zdCBST0xFU19LRVkgPSAncm9sZXMnO1xyXG5cclxuLyoqXHJcbiAqIEVybGF1YnRlIFJvbGxlbiAoYXVzIERCIFNjaGVtYSlcclxuICogVHlwZS1TYWZldHk6IE51ciBkaWVzZSBXZXJ0ZSBrw7ZubmVuIMO8YmVyZ2ViZW4gd2VyZGVuXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBSb2xlID0gJ1VTRVInIHwgJ0FETUlOJyB8ICdNT0RFUkFUT1InO1xyXG5cclxuLyoqXHJcbiAqIEBSb2xlcygpIERlY29yYXRvciAtIERlZmluaWVydCB3ZWxjaGUgUm9sbGVuIFp1Z3JpZmYgaGFiZW5cclxuICpcclxuICogVkVSV0VORFVORzpcclxuICogQFJvbGVzKCdBRE1JTicpXHJcbiAqIEBVc2VHdWFyZHMoSnd0QXV0aEd1YXJkLCBSb2xlc0d1YXJkKVxyXG4gKiBkZWxldGVVc2VyKCkge31cclxuICpcclxuICogLy8gTWVocmVyZSBSb2xsZW4gKE9SIC0gZWluZSByZWljaHQpXHJcbiAqIEBSb2xlcygnQURNSU4nLCAnTU9ERVJBVE9SJylcclxuICogQFVzZUd1YXJkcyhKd3RBdXRoR3VhcmQsIFJvbGVzR3VhcmQpXHJcbiAqIG1vZGVyYXRlQ29udGVudCgpIHt9XHJcbiAqXHJcbiAqIFdJQ0hUSUc6IEltbWVyIG1pdCBSb2xlc0d1YXJkIGtvbWJpbmllcmVuIVxyXG4gKiBAUm9sZXMoKSBhbGxlaW5lIG1hY2h0IG5pY2h0cy5cclxuICpcclxuICogQHBhcmFtIHJvbGVzIC0gRXJsYXVidGUgUm9sbGVuIChtaW5kZXN0ZW5zIGVpbmUgbXVzcyBVc2VyIGhhYmVuKVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFJvbGVzID0gKC4uLnJvbGVzOiBSb2xlW10pID0+IFNldE1ldGFkYXRhKFJPTEVTX0tFWSwgcm9sZXMpO1xyXG4iXSwidmVyc2lvbiI6M30=