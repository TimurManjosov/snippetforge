c41706b9a9a0e8177caab20b9ba0a3d3
"use strict";
// src/modules/users/users.types.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.toSafeUser = toSafeUser;
exports.toFullUser = toFullUser;
/**
 * Konvertiert DB User zu SafeUser (ohne passwordHash)
 *
 * WARUM als Funktion statt Spread?
 * - Explizit:  Wir sehen genau welche Felder übernommen werden
 * - Sicher: Neue DB-Felder werden nicht automatisch exponiert
 * - Typsicher: TypeScript prüft ob alle Felder da sind
 */
function toSafeUser(user) {
    return {
        id: user.id,
        email: user.email,
        username: user.username,
        bio: user.bio,
        avatarUrl: user.avatarUrl,
        role: user.role,
        createdAt: user.createdAt,
        updatedAt: user.updatedAt,
    };
}
/**
 * Konvertiert DB User zu FullUser (mit passwordHash)
 * NUR für interne Auth-Logik verwenden!
 */
function toFullUser(user) {
    return {
        ...toSafeUser(user),
        passwordHash: user.passwordHash,
    };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aW11clxcUHJvZ3JhbW1pbmdcXFByb2plY3RzXFxzbmlwcGV0Zm9yZ2VcXGFwcHNcXGFwaVxcc3JjXFxtb2R1bGVzXFx1c2Vyc1xcdXNlcnMudHlwZXMudHMiLCJtYXBwaW5ncyI6IjtBQUFBLG1DQUFtQzs7QUF5RW5DLGdDQVdDO0FBTUQsZ0NBS0M7QUE5QkQ7Ozs7Ozs7R0FPRztBQUNILFNBQWdCLFVBQVUsQ0FBQyxJQUFVO0lBQ25DLE9BQU87UUFDTCxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUU7UUFDWCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7UUFDakIsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO1FBQ3ZCLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRztRQUNiLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztRQUN6QixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7UUFDZixTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7UUFDekIsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTO0tBQzFCLENBQUM7QUFDSixDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBZ0IsVUFBVSxDQUFDLElBQVU7SUFDbkMsT0FBTztRQUNMLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztRQUNuQixZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7S0FDaEMsQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx0aW11clxcUHJvZ3JhbW1pbmdcXFByb2plY3RzXFxzbmlwcGV0Zm9yZ2VcXGFwcHNcXGFwaVxcc3JjXFxtb2R1bGVzXFx1c2Vyc1xcdXNlcnMudHlwZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL21vZHVsZXMvdXNlcnMvdXNlcnMudHlwZXMudHNcclxuXHJcbmltcG9ydCB7IHR5cGUgVXNlciB9IGZyb20gJy4uLy4uL2xpYi9kYi9zY2hlbWEnO1xyXG5cclxuLyoqXHJcbiAqIFVzZXIgVHlwZXMgLSBEZWZpbmllcnQgYWxsZSBVc2VyLWJlem9nZW5lbiBJbnRlcmZhY2VzXHJcbiAqXHJcbiAqIFdBUlVNIHNlcGFyYXRlIFR5cGVzIHN0YXR0IGRpcmVrdCBTY2hlbWEtVHlwZXM/XHJcbiAqIDEuIEVudGtvcHBsdW5nOiAgU2VydmljZS1MYXllciBpc3QgdW5hYmjDpG5naWcgdm9uIERCLVNjaGVtYVxyXG4gKiAyLiBGbGV4aWJpbGl0w6R0OiBXaXIga8O2bm5lbiBGaWVsZHMgaGluenVmw7xnZW4vZW50ZmVybmVuIG9obmUgU2NoZW1hIHp1IMOkbmRlcm5cclxuICogMy4gU2VjdXJpdHk6IFdpciBrw7ZubmVuIHNlbnNpdGl2ZSBGaWVsZHMgKHBhc3N3b3JkSGFzaCkgZXhwbGl6aXQgYXVzc2NobGllw59lblxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBVc2VyIG9obmUgc2Vuc2l0aXZlIERhdGVuXHJcbiAqIFdpcmQgZsO8ciBBUEkgUmVzcG9uc2VzIHZlcndlbmRldCAoTklFTUFMUyBwYXNzd29yZEhhc2ggenVyw7xja2dlYmVuISlcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2FmZVVzZXIge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICB1c2VybmFtZTogc3RyaW5nO1xyXG4gIGJpbzogc3RyaW5nIHwgbnVsbDtcclxuICBhdmF0YXJVcmw6IHN0cmluZyB8IG51bGw7XHJcbiAgcm9sZTogJ1VTRVInIHwgJ0FETUlOJyB8ICdNT0RFUkFUT1InO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICB1cGRhdGVkQXQ6IERhdGU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2VyIG1pdCBhbGxlbiBEYXRlbiAoaW5rbHVzaXZlIHBhc3N3b3JkSGFzaClcclxuICogTlVSIGbDvHIgaW50ZXJuZSBWZXJ3ZW5kdW5nIChBdXRoZW50aWNhdGlvbilcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRnVsbFVzZXIgZXh0ZW5kcyBTYWZlVXNlciB7XHJcbiAgcGFzc3dvcmRIYXNoOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEYXRlbiBmw7xyIFVzZXItRXJzdGVsbHVuZ1xyXG4gKiBQYXNzd29yZCAobmljaHQgSGFzaCEpIGtvbW10IHZvbSBDbGllbnRcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlVXNlckRhdGEge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgdXNlcm5hbWU6IHN0cmluZztcclxuICBwYXNzd29yZDogc3RyaW5nOyAvLyBLbGFydGV4dCAtIHdpcmQgaW0gU2VydmljZSBnZWhhc2h0XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEYXRlbiBmw7xyIFVzZXItVXBkYXRlXHJcbiAqIEFsbGUgRmVsZGVyIG9wdGlvbmFsIChQYXJ0aWFsIFVwZGF0ZSlcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVXNlckRhdGEge1xyXG4gIHVzZXJuYW1lPzogc3RyaW5nO1xyXG4gIGJpbz86IHN0cmluZztcclxuICBhdmF0YXJVcmw/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEYXRlbiBmw7xyIFBhc3N3b3JkLVVwZGF0ZVxyXG4gKiBTZXBhcmF0ZXMgSW50ZXJmYWNlIGbDvHIgS2xhcmhlaXRcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlUGFzc3dvcmREYXRhIHtcclxuICBjdXJyZW50UGFzc3dvcmQ6IHN0cmluZztcclxuICBuZXdQYXNzd29yZDogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogS29udmVydGllcnQgREIgVXNlciB6dSBTYWZlVXNlciAob2huZSBwYXNzd29yZEhhc2gpXHJcbiAqXHJcbiAqIFdBUlVNIGFscyBGdW5rdGlvbiBzdGF0dCBTcHJlYWQ/XHJcbiAqIC0gRXhwbGl6aXQ6ICBXaXIgc2VoZW4gZ2VuYXUgd2VsY2hlIEZlbGRlciDDvGJlcm5vbW1lbiB3ZXJkZW5cclxuICogLSBTaWNoZXI6IE5ldWUgREItRmVsZGVyIHdlcmRlbiBuaWNodCBhdXRvbWF0aXNjaCBleHBvbmllcnRcclxuICogLSBUeXBzaWNoZXI6IFR5cGVTY3JpcHQgcHLDvGZ0IG9iIGFsbGUgRmVsZGVyIGRhIHNpbmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0b1NhZmVVc2VyKHVzZXI6IFVzZXIpOiBTYWZlVXNlciB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcclxuICAgIGJpbzogdXNlci5iaW8sXHJcbiAgICBhdmF0YXJVcmw6IHVzZXIuYXZhdGFyVXJsLFxyXG4gICAgcm9sZTogdXNlci5yb2xlLFxyXG4gICAgY3JlYXRlZEF0OiB1c2VyLmNyZWF0ZWRBdCxcclxuICAgIHVwZGF0ZWRBdDogdXNlci51cGRhdGVkQXQsXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEtvbnZlcnRpZXJ0IERCIFVzZXIgenUgRnVsbFVzZXIgKG1pdCBwYXNzd29yZEhhc2gpXHJcbiAqIE5VUiBmw7xyIGludGVybmUgQXV0aC1Mb2dpayB2ZXJ3ZW5kZW4hXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9GdWxsVXNlcih1c2VyOiBVc2VyKTogRnVsbFVzZXIge1xyXG4gIHJldHVybiB7XHJcbiAgICAuLi50b1NhZmVVc2VyKHVzZXIpLFxyXG4gICAgcGFzc3dvcmRIYXNoOiB1c2VyLnBhc3N3b3JkSGFzaCxcclxuICB9O1xyXG59XHJcbiJdLCJ2ZXJzaW9uIjozfQ==