f1aff8f201264f5a9cb4ee9cdfa4274b
"use strict";

/* istanbul ignore next */
function cov_1wht5lqyhd() {
  var path = "C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\lib\\db\\schema.ts";
  var hash = "32648350f7127e596ffe14b84ecbaae7839ca4ce";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\lib\\db\\schema.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 3,
          column: 42
        }
      },
      "2": {
        start: {
          line: 4,
          column: 18
        },
        end: {
          line: 4,
          column: 48
        }
      },
      "3": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 6,
          column: 81
        }
      },
      "4": {
        start: {
          line: 8,
          column: 0
        },
        end: {
          line: 26,
          column: 4
        }
      },
      "5": {
        start: {
          line: 22,
          column: 15
        },
        end: {
          line: 26,
          column: 1
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 22,
            column: 3
          },
          end: {
            line: 22,
            column: 4
          }
        },
        loc: {
          start: {
            line: 22,
            column: 15
          },
          end: {
            line: 26,
            column: 1
          }
        },
        line: 22
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    f: {
      "0": 0
    },
    b: {},
    inputSourceMap: {
      file: "C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\lib\\db\\schema.ts",
      mappings: ";;;AAAA,iDAQ6B;AAE7B,YAAY;AACC,QAAA,QAAQ,GAAG,IAAA,gBAAM,EAAC,MAAM,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC,CAAC;AAEvE,cAAc;AACD,QAAA,KAAK,GAAG,IAAA,iBAAO,EAC1B,OAAO,EACP;IACE,EAAE,EAAE,IAAA,cAAI,EAAC,IAAI,CAAC,CAAC,UAAU,EAAE,CAAC,aAAa,EAAE;IAC3C,KAAK,EAAE,IAAA,iBAAO,EAAC,OAAO,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,MAAM,EAAE;IAC3D,QAAQ,EAAE,IAAA,iBAAO,EAAC,UAAU,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,MAAM,EAAE;IAChE,YAAY,EAAE,IAAA,iBAAO,EAAC,eAAe,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE;IAChE,GAAG,EAAE,IAAA,cAAI,EAAC,KAAK,CAAC;IAChB,SAAS,EAAE,IAAA,cAAI,EAAC,YAAY,CAAC;IAC7B,IAAI,EAAE,IAAA,gBAAQ,EAAC,MAAM,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE;IAChD,SAAS,EAAE,IAAA,mBAAS,EAAC,YAAY,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC;SACvD,UAAU,EAAE;SACZ,OAAO,EAAE;IACZ,SAAS,EAAE,IAAA,mBAAS,EAAC,YAAY,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC;SACvD,UAAU,EAAE;SACZ,OAAO,EAAE;CACb,EACD,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IACV,QAAQ,EAAE,IAAA,eAAK,EAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;IAClD,WAAW,EAAE,IAAA,eAAK,EAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC;IAC3D,OAAO,EAAE,IAAA,eAAK,EAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC;CAChD,CAAC,CACH,CAAC",
      names: [],
      sources: ["C:\\Users\\timur\\Programming\\Projects\\snippetforge\\apps\\api\\src\\lib\\db\\schema.ts"],
      sourcesContent: ["import {\n  index,\n  pgEnum,\n  pgTable,\n  text,\n  timestamp,\n  uuid,\n  varchar,\n} from 'drizzle-orm/pg-core';\n\n// Role Enum\nexport const roleEnum = pgEnum('role', ['USER', 'ADMIN', 'MODERATOR']);\n\n// Users Table\nexport const users = pgTable(\n  'users',\n  {\n    id: uuid('id').primaryKey().defaultRandom(),\n    email: varchar('email', { length: 255 }).notNull().unique(),\n    username: varchar('username', { length: 30 }).notNull().unique(),\n    passwordHash: varchar('password_hash', { length: 60 }).notNull(),\n    bio: text('bio'),\n    avatarUrl: text('avatar_url'),\n    role: roleEnum('role').default('USER').notNull(),\n    createdAt: timestamp('created_at', { withTimezone: true })\n      .defaultNow()\n      .notNull(),\n    updatedAt: timestamp('updated_at', { withTimezone: true })\n      .defaultNow()\n      .notNull(),\n  },\n  (table) => ({\n    emailIdx: index('users_email_idx').on(table.email),\n    usernameIdx: index('users_username_idx').on(table.username),\n    roleIdx: index('users_role_idx').on(table.role),\n  }),\n);\n\n// Types\nexport type User = typeof users.$inferSelect;\nexport type NewUser = typeof users.$inferInsert;\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "32648350f7127e596ffe14b84ecbaae7839ca4ce"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1wht5lqyhd = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1wht5lqyhd();
cov_1wht5lqyhd().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_1wht5lqyhd().s[1]++;
exports.users = exports.roleEnum = void 0;
const pg_core_1 =
/* istanbul ignore next */
(cov_1wht5lqyhd().s[2]++, require("drizzle-orm/pg-core"));
// Role Enum
/* istanbul ignore next */
cov_1wht5lqyhd().s[3]++;
exports.roleEnum = (0, pg_core_1.pgEnum)('role', ['USER', 'ADMIN', 'MODERATOR']);
// Users Table
/* istanbul ignore next */
cov_1wht5lqyhd().s[4]++;
exports.users = (0, pg_core_1.pgTable)('users', {
  id: (0, pg_core_1.uuid)('id').primaryKey().defaultRandom(),
  email: (0, pg_core_1.varchar)('email', {
    length: 255
  }).notNull().unique(),
  username: (0, pg_core_1.varchar)('username', {
    length: 30
  }).notNull().unique(),
  passwordHash: (0, pg_core_1.varchar)('password_hash', {
    length: 60
  }).notNull(),
  bio: (0, pg_core_1.text)('bio'),
  avatarUrl: (0, pg_core_1.text)('avatar_url'),
  role: (0, exports.roleEnum)('role').default('USER').notNull(),
  createdAt: (0, pg_core_1.timestamp)('created_at', {
    withTimezone: true
  }).defaultNow().notNull(),
  updatedAt: (0, pg_core_1.timestamp)('updated_at', {
    withTimezone: true
  }).defaultNow().notNull()
}, table => {
  /* istanbul ignore next */
  cov_1wht5lqyhd().f[0]++;
  cov_1wht5lqyhd().s[5]++;
  return {
    emailIdx: (0, pg_core_1.index)('users_email_idx').on(table.email),
    usernameIdx: (0, pg_core_1.index)('users_username_idx').on(table.username),
    roleIdx: (0, pg_core_1.index)('users_role_idx').on(table.role)
  };
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXdodDVscXloZCIsImFjdHVhbENvdmVyYWdlIiwicyIsInBnX2NvcmVfMSIsInJlcXVpcmUiLCJleHBvcnRzIiwicm9sZUVudW0iLCJwZ0VudW0iLCJ1c2VycyIsInBnVGFibGUiLCJpZCIsInV1aWQiLCJwcmltYXJ5S2V5IiwiZGVmYXVsdFJhbmRvbSIsImVtYWlsIiwidmFyY2hhciIsImxlbmd0aCIsIm5vdE51bGwiLCJ1bmlxdWUiLCJ1c2VybmFtZSIsInBhc3N3b3JkSGFzaCIsImJpbyIsInRleHQiLCJhdmF0YXJVcmwiLCJyb2xlIiwiZGVmYXVsdCIsImNyZWF0ZWRBdCIsInRpbWVzdGFtcCIsIndpdGhUaW1lem9uZSIsImRlZmF1bHROb3ciLCJ1cGRhdGVkQXQiLCJ0YWJsZSIsImYiLCJlbWFpbElkeCIsImluZGV4Iiwib24iLCJ1c2VybmFtZUlkeCIsInJvbGVJZHgiXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXHRpbXVyXFxQcm9ncmFtbWluZ1xcUHJvamVjdHNcXHNuaXBwZXRmb3JnZVxcYXBwc1xcYXBpXFxzcmNcXGxpYlxcZGJcXHNjaGVtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpbmRleCxcbiAgcGdFbnVtLFxuICBwZ1RhYmxlLFxuICB0ZXh0LFxuICB0aW1lc3RhbXAsXG4gIHV1aWQsXG4gIHZhcmNoYXIsXG59IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xuXG4vLyBSb2xlIEVudW1cbmV4cG9ydCBjb25zdCByb2xlRW51bSA9IHBnRW51bSgncm9sZScsIFsnVVNFUicsICdBRE1JTicsICdNT0RFUkFUT1InXSk7XG5cbi8vIFVzZXJzIFRhYmxlXG5leHBvcnQgY29uc3QgdXNlcnMgPSBwZ1RhYmxlKFxuICAndXNlcnMnLFxuICB7XG4gICAgaWQ6IHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgICBlbWFpbDogdmFyY2hhcignZW1haWwnLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKS51bmlxdWUoKSxcbiAgICB1c2VybmFtZTogdmFyY2hhcigndXNlcm5hbWUnLCB7IGxlbmd0aDogMzAgfSkubm90TnVsbCgpLnVuaXF1ZSgpLFxuICAgIHBhc3N3b3JkSGFzaDogdmFyY2hhcigncGFzc3dvcmRfaGFzaCcsIHsgbGVuZ3RoOiA2MCB9KS5ub3ROdWxsKCksXG4gICAgYmlvOiB0ZXh0KCdiaW8nKSxcbiAgICBhdmF0YXJVcmw6IHRleHQoJ2F2YXRhcl91cmwnKSxcbiAgICByb2xlOiByb2xlRW51bSgncm9sZScpLmRlZmF1bHQoJ1VTRVInKS5ub3ROdWxsKCksXG4gICAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnLCB7IHdpdGhUaW1lem9uZTogdHJ1ZSB9KVxuICAgICAgLmRlZmF1bHROb3coKVxuICAgICAgLm5vdE51bGwoKSxcbiAgICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcsIHsgd2l0aFRpbWV6b25lOiB0cnVlIH0pXG4gICAgICAuZGVmYXVsdE5vdygpXG4gICAgICAubm90TnVsbCgpLFxuICB9LFxuICAodGFibGUpID0+ICh7XG4gICAgZW1haWxJZHg6IGluZGV4KCd1c2Vyc19lbWFpbF9pZHgnKS5vbih0YWJsZS5lbWFpbCksXG4gICAgdXNlcm5hbWVJZHg6IGluZGV4KCd1c2Vyc191c2VybmFtZV9pZHgnKS5vbih0YWJsZS51c2VybmFtZSksXG4gICAgcm9sZUlkeDogaW5kZXgoJ3VzZXJzX3JvbGVfaWR4Jykub24odGFibGUucm9sZSksXG4gIH0pLFxuKTtcblxuLy8gVHlwZXNcbmV4cG9ydCB0eXBlIFVzZXIgPSB0eXBlb2YgdXNlcnMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgTmV3VXNlciA9IHR5cGVvZiB1c2Vycy4kaW5mZXJJbnNlcnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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