{"file":"/home/runner/work/snippetforge/snippetforge/apps/api/test/mocks/database.mock.ts","mappings":";AAAA,8BAA8B;;;AAE9B;;;;;GAKG;AAEI,MAAM,yBAAyB,GAAG,GAAG,EAAE,CAAC,CAAC;IAC9C,OAAO,EAAE;QACP,KAAK,EAAE;YACL,2CAA2C;YAC3C,cAAc;YACd,2CAA2C;YAC3C,KAAK,EAAE;gBACL,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;gBACpB,QAAQ,EAAE,IAAI,CAAC,EAAE,EAAE;aACpB;YAED,2CAA2C;YAC3C,wBAAwB;YACxB,2CAA2C;YAC3C,QAAQ,EAAE;gBACR,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;gBACpB,QAAQ,EAAE,IAAI,CAAC,EAAE,EAAE;aACpB;SACF;QAED,2CAA2C;QAC3C,wBAAwB;QACxB,2CAA2C;QAC3C,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;YAChC,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;gBAChC,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;aACrB,CAAC;SACH,CAAC;QAEF,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;YAChC,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;gBAC7B,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;oBAC/B,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;iBACrB,CAAC;aACH,CAAC;SACH,CAAC;QAEF,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;YAChC,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;gBAC/B,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;aACrB,CAAC;SACH,CAAC;QAEF,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;YAChC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;gBAC9B,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;oBAC/B,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;wBACjC,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;qBACnB,CAAC;iBACH,CAAC;gBACF,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;oBAC/B,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;wBAChC,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;qBACnB,CAAC;iBACH,CAAC;gBACF,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;aACnB,CAAC;SACH,CAAC;KACH;IAED,2CAA2C;IAC3C,2BAA2B;IAC3B,2CAA2C;IAC3C,WAAW,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,iBAAiB,CAAC,IAAI,CAAC;IAC9C,YAAY,EAAE,IAAI,CAAC,EAAE,EAAE;IACvB,eAAe,EAAE,IAAI,CAAC,EAAE,EAAE;CAC3B,CAAC,CAAC;AAlEU,QAAA,yBAAyB,6BAkEnC","names":[],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/test/mocks/database.mock.ts"],"sourcesContent":["// test/mocks/database.mock.ts\n\n/**\n * Database Service Mock\n *\n * Mockt den DatabaseService für Unit Tests.\n * Keine echte DB-Verbindung nötig.\n */\n\nexport const createMockDatabaseService = () => ({\n  drizzle: {\n    query: {\n      // ========================================\n      // USERS TABLE\n      // ========================================\n      users: {\n        findFirst: jest.fn(),\n        findMany: jest.fn(),\n      },\n\n      // ========================================\n      // SNIPPETS TABLE (NEU!)\n      // ========================================\n      snippets: {\n        findFirst: jest.fn(),\n        findMany: jest.fn(),\n      },\n    },\n\n    // ========================================\n    // QUERY BUILDER METHODS\n    // ========================================\n    insert: jest.fn().mockReturnValue({\n      values: jest.fn().mockReturnValue({\n        returning: jest.fn(),\n      }),\n    }),\n\n    update: jest.fn().mockReturnValue({\n      set: jest.fn().mockReturnValue({\n        where: jest.fn().mockReturnValue({\n          returning: jest.fn(),\n        }),\n      }),\n    }),\n\n    delete: jest.fn().mockReturnValue({\n      where: jest.fn().mockReturnValue({\n        returning: jest.fn(),\n      }),\n    }),\n\n    select: jest.fn().mockReturnValue({\n      from: jest.fn().mockReturnValue({\n        where: jest.fn().mockReturnValue({\n          groupBy: jest.fn().mockReturnValue({\n            orderBy: jest.fn(),\n          }),\n        }),\n        limit: jest.fn().mockReturnValue({\n          offset: jest.fn().mockReturnValue({\n            orderBy: jest.fn(),\n          }),\n        }),\n        orderBy: jest.fn(),\n      }),\n    }),\n  },\n\n  // ========================================\n  // DATABASE SERVICE METHODS\n  // ========================================\n  healthCheck: jest.fn().mockResolvedValue(true),\n  onModuleInit: jest.fn(),\n  onModuleDestroy: jest.fn(),\n});\n\nexport type MockDatabaseService = ReturnType<typeof createMockDatabaseService>;\n"],"version":3}