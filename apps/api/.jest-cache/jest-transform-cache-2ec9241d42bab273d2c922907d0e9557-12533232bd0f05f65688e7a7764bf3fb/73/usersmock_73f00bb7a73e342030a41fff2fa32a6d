5239a9f0a18b8be44e7a913b87f9f4a9
"use strict";
// test/mocks/users.mock.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.createMockUsersService = exports.createMockUsersRepository = void 0;
exports.createMockSafeUser = createMockSafeUser;
exports.createMockFullUser = createMockFullUser;
/**
 * Users Mocks
 *
 * Mock-Implementierungen fÃ¼r UsersRepository und UsersService.
 */
// ========================================
// REPOSITORY MOCK
// ========================================
const createMockUsersRepository = () => ({
    findById: jest.fn(),
    findByEmail: jest.fn(),
    findByUsername: jest.fn(),
    findByEmailOrUsername: jest.fn(),
    create: jest.fn(),
    update: jest.fn(),
    updatePassword: jest.fn(),
    delete: jest.fn(),
    count: jest.fn(),
});
exports.createMockUsersRepository = createMockUsersRepository;
// ========================================
// SERVICE MOCK
// ========================================
const createMockUsersService = () => ({
    create: jest.fn(),
    findById: jest.fn(),
    findByEmail: jest.fn(),
    findByEmailWithPassword: jest.fn(),
    update: jest.fn(),
    changePassword: jest.fn(),
    delete: jest.fn(),
    validateCredentials: jest.fn(),
    hashPassword: jest.fn(),
    comparePassword: jest.fn(),
});
exports.createMockUsersService = createMockUsersService;
// ========================================
// TEST DATA
// ========================================
/**
 * Erstellt einen Mock SafeUser
 */
function createMockSafeUser(overrides = {}) {
    const now = new Date();
    return {
        id: 'test-user-id-123',
        email: 'test@example.com',
        username: 'testuser',
        bio: null,
        avatarUrl: null,
        role: 'USER',
        createdAt: now,
        updatedAt: now,
        ...overrides,
    };
}
/**
 * Erstellt einen Mock FullUser (mit passwordHash)
 */
function createMockFullUser(overrides = {}) {
    return {
        ...createMockSafeUser(overrides),
        passwordHash: '$2a$10$mockHashedPasswordForTesting123456789012',
        ...overrides,
    };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmsvc25pcHBldGZvcmdlL3NuaXBwZXRmb3JnZS9hcHBzL2FwaS90ZXN0L21vY2tzL3VzZXJzLm1vY2sudHMiLCJtYXBwaW5ncyI6IjtBQUFBLDJCQUEyQjs7O0FBc0QzQixnREFlQztBQUtELGdEQVFDO0FBOUVEOzs7O0dBSUc7QUFFSCwyQ0FBMkM7QUFDM0Msa0JBQWtCO0FBQ2xCLDJDQUEyQztBQUVwQyxNQUFNLHlCQUF5QixHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDOUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDbkIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDdEIsY0FBYyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDekIscUJBQXFCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNoQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixjQUFjLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUN6QixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtDQUNqQixDQUFDLENBQUM7QUFWVSxRQUFBLHlCQUF5Qiw2QkFVbkM7QUFJSCwyQ0FBMkM7QUFDM0MsZUFBZTtBQUNmLDJDQUEyQztBQUVwQyxNQUFNLHNCQUFzQixHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDM0MsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDakIsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDbkIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDdEIsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNsQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixjQUFjLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUN6QixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixtQkFBbUIsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQzlCLFlBQVksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ3ZCLGVBQWUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0NBQzNCLENBQUMsQ0FBQztBQVhVLFFBQUEsc0JBQXNCLDBCQVdoQztBQUlILDJDQUEyQztBQUMzQyxZQUFZO0FBQ1osMkNBQTJDO0FBRTNDOztHQUVHO0FBQ0gsU0FBZ0Isa0JBQWtCLENBQ2hDLFlBQStCLEVBQUU7SUFFakMsTUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUN2QixPQUFPO1FBQ0wsRUFBRSxFQUFFLGtCQUFrQjtRQUN0QixLQUFLLEVBQUUsa0JBQWtCO1FBQ3pCLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLEdBQUcsRUFBRSxJQUFJO1FBQ1QsU0FBUyxFQUFFLElBQUk7UUFDZixJQUFJLEVBQUUsTUFBTTtRQUNaLFNBQVMsRUFBRSxHQUFHO1FBQ2QsU0FBUyxFQUFFLEdBQUc7UUFDZCxHQUFHLFNBQVM7S0FDYixDQUFDO0FBQ0osQ0FBQztBQUVEOztHQUVHO0FBQ0gsU0FBZ0Isa0JBQWtCLENBQ2hDLFlBQStCLEVBQUU7SUFFakMsT0FBTztRQUNMLEdBQUcsa0JBQWtCLENBQUMsU0FBUyxDQUFDO1FBQ2hDLFlBQVksRUFBRSxpREFBaUQ7UUFDL0QsR0FBRyxTQUFTO0tBQ2IsQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmsvc25pcHBldGZvcmdlL3NuaXBwZXRmb3JnZS9hcHBzL2FwaS90ZXN0L21vY2tzL3VzZXJzLm1vY2sudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGVzdC9tb2Nrcy91c2Vycy5tb2NrLnRzXG5cbmltcG9ydCB7IHR5cGUgRnVsbFVzZXIsIHR5cGUgU2FmZVVzZXIgfSBmcm9tICcuLi8uLi9zcmMvbW9kdWxlcy91c2Vycyc7XG5cbi8qKlxuICogVXNlcnMgTW9ja3NcbiAqXG4gKiBNb2NrLUltcGxlbWVudGllcnVuZ2VuIGbDvHIgVXNlcnNSZXBvc2l0b3J5IHVuZCBVc2Vyc1NlcnZpY2UuXG4gKi9cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUkVQT1NJVE9SWSBNT0NLXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNb2NrVXNlcnNSZXBvc2l0b3J5ID0gKCkgPT4gKHtcbiAgZmluZEJ5SWQ6IGplc3QuZm4oKSxcbiAgZmluZEJ5RW1haWw6IGplc3QuZm4oKSxcbiAgZmluZEJ5VXNlcm5hbWU6IGplc3QuZm4oKSxcbiAgZmluZEJ5RW1haWxPclVzZXJuYW1lOiBqZXN0LmZuKCksXG4gIGNyZWF0ZTogamVzdC5mbigpLFxuICB1cGRhdGU6IGplc3QuZm4oKSxcbiAgdXBkYXRlUGFzc3dvcmQ6IGplc3QuZm4oKSxcbiAgZGVsZXRlOiBqZXN0LmZuKCksXG4gIGNvdW50OiBqZXN0LmZuKCksXG59KTtcblxuZXhwb3J0IHR5cGUgTW9ja1VzZXJzUmVwb3NpdG9yeSA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZU1vY2tVc2Vyc1JlcG9zaXRvcnk+O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTRVJWSUNFIE1PQ0tcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vY2tVc2Vyc1NlcnZpY2UgPSAoKSA9PiAoe1xuICBjcmVhdGU6IGplc3QuZm4oKSxcbiAgZmluZEJ5SWQ6IGplc3QuZm4oKSxcbiAgZmluZEJ5RW1haWw6IGplc3QuZm4oKSxcbiAgZmluZEJ5RW1haWxXaXRoUGFzc3dvcmQ6IGplc3QuZm4oKSxcbiAgdXBkYXRlOiBqZXN0LmZuKCksXG4gIGNoYW5nZVBhc3N3b3JkOiBqZXN0LmZuKCksXG4gIGRlbGV0ZTogamVzdC5mbigpLFxuICB2YWxpZGF0ZUNyZWRlbnRpYWxzOiBqZXN0LmZuKCksXG4gIGhhc2hQYXNzd29yZDogamVzdC5mbigpLFxuICBjb21wYXJlUGFzc3dvcmQ6IGplc3QuZm4oKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBNb2NrVXNlcnNTZXJ2aWNlID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlTW9ja1VzZXJzU2VydmljZT47XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRFU1QgREFUQVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEVyc3RlbGx0IGVpbmVuIE1vY2sgU2FmZVVzZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vY2tTYWZlVXNlcihcbiAgb3ZlcnJpZGVzOiBQYXJ0aWFsPFNhZmVVc2VyPiA9IHt9LFxuKTogU2FmZVVzZXIge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4ge1xuICAgIGlkOiAndGVzdC11c2VyLWlkLTEyMycsXG4gICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICB1c2VybmFtZTogJ3Rlc3R1c2VyJyxcbiAgICBiaW86IG51bGwsXG4gICAgYXZhdGFyVXJsOiBudWxsLFxuICAgIHJvbGU6ICdVU0VSJyxcbiAgICBjcmVhdGVkQXQ6IG5vdyxcbiAgICB1cGRhdGVkQXQ6IG5vdyxcbiAgICAuLi5vdmVycmlkZXMsXG4gIH07XG59XG5cbi8qKlxuICogRXJzdGVsbHQgZWluZW4gTW9jayBGdWxsVXNlciAobWl0IHBhc3N3b3JkSGFzaClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vY2tGdWxsVXNlcihcbiAgb3ZlcnJpZGVzOiBQYXJ0aWFsPEZ1bGxVc2VyPiA9IHt9LFxuKTogRnVsbFVzZXIge1xuICByZXR1cm4ge1xuICAgIC4uLmNyZWF0ZU1vY2tTYWZlVXNlcihvdmVycmlkZXMpLFxuICAgIHBhc3N3b3JkSGFzaDogJyQyYSQxMCRtb2NrSGFzaGVkUGFzc3dvcmRGb3JUZXN0aW5nMTIzNDU2Nzg5MDEyJyxcbiAgICAuLi5vdmVycmlkZXMsXG4gIH07XG59XG4iXSwidmVyc2lvbiI6M30=