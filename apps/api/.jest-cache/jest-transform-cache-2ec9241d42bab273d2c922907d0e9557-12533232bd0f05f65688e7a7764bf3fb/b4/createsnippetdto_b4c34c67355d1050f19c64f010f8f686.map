{"file":"/home/runner/work/snippetforge/snippetforge/apps/api/src/modules/snippets/dto/create-snippet.dto.ts","mappings":";AAAA,iDAAiD;;;AAyEjD,4DAEC;AAMD,oEAEC;AAjFD,6BAAwB;AAExB;;;;;;;;;;;;;;;;GAgBG;AAEU,QAAA,mBAAmB,GAAG,OAAC,CAAC,MAAM,CAAC;IAC1C,KAAK,EAAE,OAAC;SACL,MAAM,EAAE;SACR,GAAG,CAAC,CAAC,EAAE,mBAAmB,CAAC;SAC3B,GAAG,CAAC,GAAG,EAAE,sCAAsC,CAAC;SAChD,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;IAEjC,WAAW,EAAE,OAAC;SACX,MAAM,EAAE;SACR,GAAG,CAAC,IAAI,EAAE,6CAA6C,CAAC;SACxD,QAAQ,EAAE;SACV,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAE/C,IAAI,EAAE,OAAC;SACJ,MAAM,EAAE;SACR,GAAG,CAAC,CAAC,EAAE,kBAAkB,CAAC;SAC1B,GAAG,CAAC,KAAK,EAAE,uCAAuC,CAAC;IAEtD,QAAQ,EAAE,OAAC;SACR,MAAM,EAAE;SACR,GAAG,CAAC,CAAC,EAAE,sBAAsB,CAAC;SAC9B,GAAG,CAAC,EAAE,EAAE,wCAAwC,CAAC;SACjD,KAAK,CACJ,cAAc,EACd,sDAAsD,CACvD;SACA,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;IAE/C,QAAQ,EAAE,OAAC,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;CAC/C,CAAC,CAAC;AAkBH;;;GAGG;AACH,SAAgB,wBAAwB,CAAC,IAAa;IACpD,OAAO,2BAAmB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACzC,CAAC;AAED;;;GAGG;AACH,SAAgB,4BAA4B,CAAC,IAAa;IACxD,OAAO,2BAAmB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AAC7C,CAAC","names":[],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/src/modules/snippets/dto/create-snippet.dto.ts"],"sourcesContent":["// src/modules/snippets/dto/create-snippet.dto.ts\n\nimport { z } from 'zod';\n\n/**\n * Create Snippet DTO - Validation für Snippet-Erstellung\n *\n * WARUM Zod statt class-validator?\n * 1. Type Inference: Schema generiert automatisch TypeScript Types\n * 2. Runtime + Compile-Time Safety: Ein Schema für beides\n * 3. Bessere Fehlermeldungen: Detaillierte Validation Errors\n * 4. Shared: Kann in Frontend UND Backend verwendet werden\n * 5. Functional: Kein Decorator-Magic, pure Functions\n *\n * VALIDATION RULES:\n * - title: 1-200 Zeichen, required\n * - description: Optional, max 1000 Zeichen\n * - code: Required, 1-50000 Zeichen\n * - language: Required, valides Format\n * - isPublic: Optional, default true\n */\n\nexport const CreateSnippetSchema = z.object({\n  title: z\n    .string()\n    .min(1, 'Title is required')\n    .max(200, 'Title must be at most 200 characters')\n    .transform((val) => val.trim()),\n\n  description: z\n    .string()\n    .max(1000, 'Description must be at most 1000 characters')\n    .optional()\n    .transform((val) => (val ? val.trim() : val)),\n\n  code: z\n    .string()\n    .min(1, 'Code is required')\n    .max(50000, 'Code must be at most 50000 characters'),\n\n  language: z\n    .string()\n    .min(1, 'Language is required')\n    .max(50, 'Language must be at most 50 characters')\n    .regex(\n      /^[a-z0-9-]+$/,\n      'Language must be lowercase alphanumeric with hyphens',\n    )\n    .transform((val) => val.toLowerCase().trim()),\n\n  isPublic: z.boolean().default(true).optional(),\n});\n\n/**\n * TypeScript Type aus Schema generiert\n *\n * Equivalent zu:\n * interface CreateSnippetDto {\n *   title: string\n *   description?: string\n *   code: string\n *   language: string\n *   isPublic?: boolean\n * }\n *\n * ABER: Automatisch synchron mit Validation Rules!\n */\nexport type CreateSnippetDto = z.infer<typeof CreateSnippetSchema>;\n\n/**\n * Validation Function\n * Kann auch außerhalb von NestJS verwendet werden\n */\nexport function validateCreateSnippetDto(data: unknown): CreateSnippetDto {\n  return CreateSnippetSchema.parse(data);\n}\n\n/**\n * Safe Validation (wirft keinen Error)\n * Gibt Result-Object zurück\n */\nexport function safeValidateCreateSnippetDto(data: unknown) {\n  return CreateSnippetSchema.safeParse(data);\n}\n"],"version":3}