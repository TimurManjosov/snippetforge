{"file":"/home/runner/work/snippetforge/snippetforge/apps/api/src/modules/snippets/dto/snippet-response.dto.ts","mappings":"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","names":[],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/src/modules/snippets/dto/snippet-response.dto.ts"],"sourcesContent":["// src/modules/snippets/dto/snippet-response.dto.ts\n\nimport { z } from 'zod';\n\n/**\n * Snippet Response Schemas - Für API Response Dokumentation\n *\n * WARUM Response DTOs?\n * - Dokumentation: Swagger kann Schema nutzen\n * - Typsicherheit: Frontend weiß was es bekommt\n * - Konsistenz: Alle Snippet-Responses haben gleiches Format\n * - Security: Kann sensitive Felder filtern (z.B. internal IDs)\n */\n\n/**\n * Basic User Info Schema (für Snippet-Author)\n */\nexport const SnippetAuthorSchema = z.object({\n  id: z.string().uuid(),\n  username: z.string(),\n  avatarUrl: z.string().nullable(),\n});\n\n/**\n * Full Snippet Response Schema\n * Verwendet für einzelne Snippet-Ansicht (mit Code)\n */\nexport const SnippetResponseSchema = z.object({\n  id: z.string().uuid(),\n  title: z.string(),\n  description: z.string().nullable(),\n  code: z.string(),\n  language: z.string(),\n  userId: z.string().uuid(),\n  isPublic: z.boolean(),\n  viewCount: z.number(),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n});\n\n/**\n * Snippet Response with User Info\n * Für Ansichten wo Author-Info benötigt wird\n */\nexport const SnippetWithUserResponseSchema = SnippetResponseSchema.extend({\n  user: SnippetAuthorSchema,\n});\n\n/**\n * Snippet Preview Response Schema (ohne Code)\n * Verwendet für Listen-Ansichten (Performance!)\n *\n * PERFORMANCE: Code kann 50KB groß sein - für Listen nicht nötig!\n */\nexport const SnippetPreviewResponseSchema = z.object({\n  id: z.string().uuid(),\n  title: z.string(),\n  description: z.string().nullable(),\n  language: z.string(),\n  userId: z.string().uuid(),\n  isPublic: z.boolean(),\n  viewCount: z.number(),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n});\n\n/**\n * Pagination Metadata Schema\n */\nexport const PaginationMetaSchema = z.object({\n  page: z.number(),\n  limit: z.number(),\n  total: z.number(),\n  totalPages: z.number(),\n  hasNextPage: z.boolean(),\n  hasPreviousPage: z.boolean(),\n});\n\n/**\n * Paginated Snippets Response Schema\n */\nexport const PaginatedSnippetsResponseSchema = z.object({\n  data: z.array(SnippetResponseSchema),\n  meta: PaginationMetaSchema,\n});\n\n/**\n * Paginated Snippet Previews Response Schema\n */\nexport const PaginatedSnippetPreviewsResponseSchema = z.object({\n  data: z.array(SnippetPreviewResponseSchema),\n  meta: PaginationMetaSchema,\n});\n\n/**\n * Snippet Statistics Response Schema\n */\nexport const SnippetStatsResponseSchema = z.object({\n  total: z.number(),\n  public: z.number(),\n  private: z.number(),\n  totalViews: z.number(),\n  mostViewed: SnippetResponseSchema.optional(),\n  latestSnippet: SnippetResponseSchema.optional(),\n});\n\n// ============================================================\n// TYPESCRIPT TYPES\n// ============================================================\n\nexport type SnippetAuthorDto = z.infer<typeof SnippetAuthorSchema>;\nexport type SnippetResponseDto = z.infer<typeof SnippetResponseSchema>;\nexport type SnippetWithUserResponseDto = z.infer<\n  typeof SnippetWithUserResponseSchema\n>;\nexport type SnippetPreviewResponseDto = z.infer<\n  typeof SnippetPreviewResponseSchema\n>;\nexport type PaginationMetaDto = z.infer<typeof PaginationMetaSchema>;\nexport type PaginatedSnippetsResponseDto = z.infer<\n  typeof PaginatedSnippetsResponseSchema\n>;\nexport type PaginatedSnippetPreviewsResponseDto = z.infer<\n  typeof PaginatedSnippetPreviewsResponseSchema\n>;\nexport type SnippetStatsResponseDto = z.infer<\n  typeof SnippetStatsResponseSchema\n>;\n"],"version":3}