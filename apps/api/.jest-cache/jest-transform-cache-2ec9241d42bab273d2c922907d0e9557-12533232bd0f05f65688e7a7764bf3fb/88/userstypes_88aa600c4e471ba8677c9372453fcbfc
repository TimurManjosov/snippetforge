d0a5ae76139bab8e1eeeb0470e21bf29
"use strict";
// src/modules/users/users.types.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.toSafeUser = toSafeUser;
exports.toFullUser = toFullUser;
/**
 * Konvertiert DB User zu SafeUser (ohne passwordHash)
 *
 * WARUM als Funktion statt Spread?
 * - Explizit:  Wir sehen genau welche Felder übernommen werden
 * - Sicher: Neue DB-Felder werden nicht automatisch exponiert
 * - Typsicher: TypeScript prüft ob alle Felder da sind
 */
function toSafeUser(user) {
    return {
        id: user.id,
        email: user.email,
        username: user.username,
        bio: user.bio,
        avatarUrl: user.avatarUrl,
        role: user.role,
        createdAt: user.createdAt,
        updatedAt: user.updatedAt,
    };
}
/**
 * Konvertiert DB User zu FullUser (mit passwordHash)
 * NUR für interne Auth-Logik verwenden!
 */
function toFullUser(user) {
    return {
        ...toSafeUser(user),
        passwordHash: user.passwordHash,
    };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmsvc25pcHBldGZvcmdlL3NuaXBwZXRmb3JnZS9hcHBzL2FwaS9zcmMvbW9kdWxlcy91c2Vycy91c2Vycy50eXBlcy50cyIsIm1hcHBpbmdzIjoiO0FBQUEsbUNBQW1DOztBQXlFbkMsZ0NBV0M7QUFNRCxnQ0FLQztBQTlCRDs7Ozs7OztHQU9HO0FBQ0gsU0FBZ0IsVUFBVSxDQUFDLElBQVU7SUFDbkMsT0FBTztRQUNMLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtRQUNYLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztRQUNqQixRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7UUFDdkIsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO1FBQ2IsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTO1FBQ3pCLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtRQUNmLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztRQUN6QixTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7S0FDMUIsQ0FBQztBQUNKLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFnQixVQUFVLENBQUMsSUFBVTtJQUNuQyxPQUFPO1FBQ0wsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO1FBQ25CLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWTtLQUNoQyxDQUFDO0FBQ0osQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29yay9zbmlwcGV0Zm9yZ2Uvc25pcHBldGZvcmdlL2FwcHMvYXBpL3NyYy9tb2R1bGVzL3VzZXJzL3VzZXJzLnR5cGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9tb2R1bGVzL3VzZXJzL3VzZXJzLnR5cGVzLnRzXG5cbmltcG9ydCB7IHR5cGUgVXNlciB9IGZyb20gJy4uLy4uL2xpYi9kYi9zY2hlbWEnO1xuXG4vKipcbiAqIFVzZXIgVHlwZXMgLSBEZWZpbmllcnQgYWxsZSBVc2VyLWJlem9nZW5lbiBJbnRlcmZhY2VzXG4gKlxuICogV0FSVU0gc2VwYXJhdGUgVHlwZXMgc3RhdHQgZGlyZWt0IFNjaGVtYS1UeXBlcz9cbiAqIDEuIEVudGtvcHBsdW5nOiAgU2VydmljZS1MYXllciBpc3QgdW5hYmjDpG5naWcgdm9uIERCLVNjaGVtYVxuICogMi4gRmxleGliaWxpdMOkdDogV2lyIGvDtm5uZW4gRmllbGRzIGhpbnp1ZsO8Z2VuL2VudGZlcm5lbiBvaG5lIFNjaGVtYSB6dSDDpG5kZXJuXG4gKiAzLiBTZWN1cml0eTogV2lyIGvDtm5uZW4gc2Vuc2l0aXZlIEZpZWxkcyAocGFzc3dvcmRIYXNoKSBleHBsaXppdCBhdXNzY2hsaWXDn2VuXG4gKi9cblxuLyoqXG4gKiBVc2VyIG9obmUgc2Vuc2l0aXZlIERhdGVuXG4gKiBXaXJkIGbDvHIgQVBJIFJlc3BvbnNlcyB2ZXJ3ZW5kZXQgKE5JRU1BTFMgcGFzc3dvcmRIYXNoIHp1csO8Y2tnZWJlbiEpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2FmZVVzZXIge1xuICBpZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBiaW86IHN0cmluZyB8IG51bGw7XG4gIGF2YXRhclVybDogc3RyaW5nIHwgbnVsbDtcbiAgcm9sZTogJ1VTRVInIHwgJ0FETUlOJyB8ICdNT0RFUkFUT1InO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbn1cblxuLyoqXG4gKiBVc2VyIG1pdCBhbGxlbiBEYXRlbiAoaW5rbHVzaXZlIHBhc3N3b3JkSGFzaClcbiAqIE5VUiBmw7xyIGludGVybmUgVmVyd2VuZHVuZyAoQXV0aGVudGljYXRpb24pXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVsbFVzZXIgZXh0ZW5kcyBTYWZlVXNlciB7XG4gIHBhc3N3b3JkSGFzaDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERhdGVuIGbDvHIgVXNlci1FcnN0ZWxsdW5nXG4gKiBQYXNzd29yZCAobmljaHQgSGFzaCEpIGtvbW10IHZvbSBDbGllbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVVc2VyRGF0YSB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7IC8vIEtsYXJ0ZXh0IC0gd2lyZCBpbSBTZXJ2aWNlIGdlaGFzaHRcbn1cblxuLyoqXG4gKiBEYXRlbiBmw7xyIFVzZXItVXBkYXRlXG4gKiBBbGxlIEZlbGRlciBvcHRpb25hbCAoUGFydGlhbCBVcGRhdGUpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVXNlckRhdGEge1xuICB1c2VybmFtZT86IHN0cmluZztcbiAgYmlvPzogc3RyaW5nO1xuICBhdmF0YXJVcmw/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGF0ZW4gZsO8ciBQYXNzd29yZC1VcGRhdGVcbiAqIFNlcGFyYXRlcyBJbnRlcmZhY2UgZsO8ciBLbGFyaGVpdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVBhc3N3b3JkRGF0YSB7XG4gIGN1cnJlbnRQYXNzd29yZDogc3RyaW5nO1xuICBuZXdQYXNzd29yZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIEtvbnZlcnRpZXJ0IERCIFVzZXIgenUgU2FmZVVzZXIgKG9obmUgcGFzc3dvcmRIYXNoKVxuICpcbiAqIFdBUlVNIGFscyBGdW5rdGlvbiBzdGF0dCBTcHJlYWQ/XG4gKiAtIEV4cGxpeml0OiAgV2lyIHNlaGVuIGdlbmF1IHdlbGNoZSBGZWxkZXIgw7xiZXJub21tZW4gd2VyZGVuXG4gKiAtIFNpY2hlcjogTmV1ZSBEQi1GZWxkZXIgd2VyZGVuIG5pY2h0IGF1dG9tYXRpc2NoIGV4cG9uaWVydFxuICogLSBUeXBzaWNoZXI6IFR5cGVTY3JpcHQgcHLDvGZ0IG9iIGFsbGUgRmVsZGVyIGRhIHNpbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU2FmZVVzZXIodXNlcjogVXNlcik6IFNhZmVVc2VyIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogdXNlci5pZCxcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICBiaW86IHVzZXIuYmlvLFxuICAgIGF2YXRhclVybDogdXNlci5hdmF0YXJVcmwsXG4gICAgcm9sZTogdXNlci5yb2xlLFxuICAgIGNyZWF0ZWRBdDogdXNlci5jcmVhdGVkQXQsXG4gICAgdXBkYXRlZEF0OiB1c2VyLnVwZGF0ZWRBdCxcbiAgfTtcbn1cblxuLyoqXG4gKiBLb252ZXJ0aWVydCBEQiBVc2VyIHp1IEZ1bGxVc2VyIChtaXQgcGFzc3dvcmRIYXNoKVxuICogTlVSIGbDvHIgaW50ZXJuZSBBdXRoLUxvZ2lrIHZlcndlbmRlbiFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRnVsbFVzZXIodXNlcjogVXNlcik6IEZ1bGxVc2VyIHtcbiAgcmV0dXJuIHtcbiAgICAuLi50b1NhZmVVc2VyKHVzZXIpLFxuICAgIHBhc3N3b3JkSGFzaDogdXNlci5wYXNzd29yZEhhc2gsXG4gIH07XG59XG4iXSwidmVyc2lvbiI6M30=