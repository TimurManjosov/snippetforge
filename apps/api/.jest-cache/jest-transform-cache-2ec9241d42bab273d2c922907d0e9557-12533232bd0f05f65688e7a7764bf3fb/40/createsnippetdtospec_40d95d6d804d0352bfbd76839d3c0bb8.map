{"file":"/home/runner/work/snippetforge/snippetforge/apps/api/test/unit/dto/snippets/create-snippet.dto.spec.ts","mappings":"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","names":[],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/test/unit/dto/snippets/create-snippet.dto.spec.ts"],"sourcesContent":["// test/unit/dto/snippets/create-snippet.dto.spec.ts\n\nimport {\n  CreateSnippetSchema,\n  validateCreateSnippetDto,\n  safeValidateCreateSnippetDto,\n  type CreateSnippetDto,\n} from '../../../../src/modules/snippets/dto/create-snippet.dto';\n\n/**\n * CreateSnippetDto Unit Tests\n *\n * Testet:\n * - Valide Daten werden transformiert\n * - Invalide Daten werden abgelehnt\n * - Transformationen (trim, lowercase) funktionieren\n * - Validierung Rules eingehalten werden\n */\ndescribe('CreateSnippetDto', () => {\n  describe('CreateSnippetSchema', () => {\n    describe('with valid data', () => {\n      it('should validate a complete snippet with all fields', () => {\n        // Arrange\n        const input = {\n          title: 'Test Snippet',\n          description: 'This is a test snippet',\n          code: 'console.log(\"Hello World\");',\n          language: 'javascript',\n          isPublic: true,\n        };\n\n        // Act\n        const result = CreateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.title).toBe('Test Snippet');\n        expect(result.description).toBe('This is a test snippet');\n        expect(result.code).toBe('console.log(\"Hello World\");');\n        expect(result.language).toBe('javascript');\n        expect(result.isPublic).toBe(true);\n      });\n\n      it('should validate snippet without optional fields', () => {\n        // Arrange\n        const input = {\n          title: 'Minimal Snippet',\n          code: 'print(\"Hello\")',\n          language: 'python',\n        };\n\n        // Act\n        const result = CreateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.title).toBe('Minimal Snippet');\n        expect(result.code).toBe('print(\"Hello\")');\n        expect(result.language).toBe('python');\n        expect(result.description).toBeUndefined();\n        expect(result.isPublic).toBe(true); // default value\n      });\n\n      it('should trim whitespace from title', () => {\n        // Arrange\n        const input = {\n          title: '  Trimmed Title  ',\n          code: 'code',\n          language: 'typescript',\n        };\n\n        // Act\n        const result = CreateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.title).toBe('Trimmed Title');\n      });\n\n      it('should trim whitespace from description', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          description: '  Trimmed Description  ',\n          code: 'code',\n          language: 'typescript',\n        };\n\n        // Act\n        const result = CreateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.description).toBe('Trimmed Description');\n      });\n\n      it('should convert language to lowercase', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          code: 'code',\n          language: 'TypeScript',\n        };\n\n        // Act\n        const result = CreateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.language).toBe('typescript');\n      });\n\n      it('should accept hyphenated language names', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          code: 'code',\n          language: 'c-sharp',\n        };\n\n        // Act\n        const result = CreateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.language).toBe('c-sharp');\n      });\n\n      it('should accept numeric language names', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          code: 'code',\n          language: 'c99',\n        };\n\n        // Act\n        const result = CreateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.language).toBe('c99');\n      });\n    });\n\n    describe('with invalid data', () => {\n      it('should reject empty title', () => {\n        // Arrange\n        const input = {\n          title: '',\n          code: 'code',\n          language: 'javascript',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject title exceeding 200 characters', () => {\n        // Arrange\n        const input = {\n          title: 'a'.repeat(201),\n          code: 'code',\n          language: 'javascript',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject description exceeding 1000 characters', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          description: 'a'.repeat(1001),\n          code: 'code',\n          language: 'javascript',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject empty code', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          code: '',\n          language: 'javascript',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject code exceeding 50000 characters', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          code: 'a'.repeat(50001),\n          language: 'javascript',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject empty language', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          code: 'code',\n          language: '',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject language with spaces', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          code: 'code',\n          language: 'java script',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject language with uppercase and special chars', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          code: 'code',\n          language: 'JavaScript!',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject missing required fields', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject invalid isPublic type', () => {\n        // Arrange\n        const input = {\n          title: 'Test',\n          code: 'code',\n          language: 'javascript',\n          isPublic: 'yes',\n        };\n\n        // Act & Assert\n        expect(() => CreateSnippetSchema.parse(input)).toThrow();\n      });\n    });\n  });\n\n  describe('validateCreateSnippetDto', () => {\n    it('should parse valid data', () => {\n      // Arrange\n      const input = {\n        title: 'Test',\n        code: 'console.log(\"test\");',\n        language: 'javascript',\n      };\n\n      // Act\n      const result = validateCreateSnippetDto(input);\n\n      // Assert\n      expect(result).toBeDefined();\n      expect(result.title).toBe('Test');\n    });\n\n    it('should throw on invalid data', () => {\n      // Arrange\n      const input = {\n        title: '',\n        code: 'code',\n        language: 'javascript',\n      };\n\n      // Act & Assert\n      expect(() => validateCreateSnippetDto(input)).toThrow();\n    });\n  });\n\n  describe('safeValidateCreateSnippetDto', () => {\n    it('should return success for valid data', () => {\n      // Arrange\n      const input = {\n        title: 'Test',\n        code: 'code',\n        language: 'javascript',\n      };\n\n      // Act\n      const result = safeValidateCreateSnippetDto(input);\n\n      // Assert\n      expect(result.success).toBe(true);\n      if (result.success) {\n        expect(result.data.title).toBe('Test');\n      }\n    });\n\n    it('should return error for invalid data', () => {\n      // Arrange\n      const input = {\n        title: '',\n        code: 'code',\n        language: 'javascript',\n      };\n\n      // Act\n      const result = safeValidateCreateSnippetDto(input);\n\n      // Assert\n      expect(result.success).toBe(false);\n      if (!result.success) {\n        expect(result.error).toBeDefined();\n      }\n    });\n  });\n\n  describe('type inference', () => {\n    it('should infer correct TypeScript type', () => {\n      // Arrange\n      const snippet: CreateSnippetDto = {\n        title: 'Test',\n        code: 'code',\n        language: 'javascript',\n        description: 'optional',\n        isPublic: false,\n      };\n\n      // Assert - TypeScript should not complain\n      expect(snippet.title).toBeDefined();\n      expect(snippet.code).toBeDefined();\n      expect(snippet.language).toBeDefined();\n    });\n  });\n});\n"],"version":3}