{"file":"/home/runner/work/snippetforge/snippetforge/apps/api/test/setup/jest.setup.ts","mappings":";AAAA,2BAA2B;;AAE3B;;;;;GAKG;AAEH,2CAA2C;AAC3C,wBAAwB;AACxB,2CAA2C;AAE3C,yCAAyC;AACzC,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,MAAM,CAAC;AAC9B,OAAO,CAAC,GAAG,CAAC,UAAU;IACpB,yDAAyD,CAAC;AAC5D,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,KAAK,CAAC;AACnC,OAAO,CAAC,GAAG,CAAC,YAAY;IACtB,oEAAoE,CAAC;AAEvE,2CAA2C;AAC3C,eAAe;AACf,2CAA2C;AAE3C,4DAA4D;AAC5D,kDAAkD;AAClD,qBAAqB;AACrB,iBAAiB;AACjB,qBAAqB;AACrB,sBAAsB;AACtB,qBAAqB;AACrB,qBAAqB;AACrB,sBAAsB;AACtB,IAAI;AAEJ,2CAA2C;AAC3C,kBAAkB;AAClB,2CAA2C;AAE3C,uCAAuC;AACvC,MAAM,CAAC,MAAM,CAAC;IACZ;;OAEG;IACH,QAAQ,CAAC,QAAgB;QACvB,MAAM,SAAS,GACb,wEAAwE,CAAC;QAC3E,MAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEtC,OAAO;YACL,IAAI;YACJ,OAAO,EAAE,GAAG,EAAE,CACZ,IAAI;gBACF,CAAC,CAAC,YAAY,QAAQ,yBAAyB;gBAC/C,CAAC,CAAC,YAAY,QAAQ,qBAAqB;SAChD,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,OAAO,CAAC,QAAgB;QACtB,MAAM,QAAQ,GAAG,kDAAkD,CAAC;QACpE,MAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAErC,OAAO;YACL,IAAI;YACJ,OAAO,EAAE,GAAG,EAAE,CACZ,IAAI;gBACF,CAAC,CAAC,YAAY,QAAQ,wBAAwB;gBAC9C,CAAC,CAAC,YAAY,QAAQ,oBAAoB;SAC/C,CAAC;IACJ,CAAC;CACF,CAAC,CAAC;AAUH,2CAA2C;AAC3C,wBAAwB;AACxB,2CAA2C;AAE3C,oCAAoC;AACpC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC","names":[],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/test/setup/jest.setup.ts"],"sourcesContent":["// test/setup/jest.setup.ts\n\n/**\n * Jest Global Setup\n *\n * Wird VOR jedem Test-File ausgeführt.\n * Hier konfigurieren wir globale Test-Einstellungen.\n */\n\n// ========================================\n// ENVIRONMENT VARIABLES\n// ========================================\n\n// Test-spezifische Environment Variables\nprocess.env.NODE_ENV = 'test';\nprocess.env.JWT_SECRET =\n  'test-secret-key-for-testing-only-min-32-characters-long';\nprocess.env.JWT_EXPIRES_IN = '15m';\nprocess.env.DATABASE_URL =\n  'postgresql://snippetforge:dev_password@localhost:5432/snippetforge';\n\n// ========================================\n// GLOBAL MOCKS\n// ========================================\n\n// Console Mocks (optional - reduziert Noise in Test Output)\n// Auskommentieren wenn Debug-Output benötigt wird\n// global.console = {\n//   ... console,\n//   log: jest. fn(),\n//   debug: jest.fn(),\n//   info: jest.fn(),\n//   warn: jest.fn(),\n//   error: jest.fn(),\n// }\n\n// ========================================\n// CUSTOM MATCHERS\n// ========================================\n\n// Erweiterte Expect-Matcher (optional)\nexpect.extend({\n  /**\n   * Prüft ob ein Objekt eine UUID enthält\n   */\n  toBeUUID(received: string) {\n    const uuidRegex =\n      /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n    const pass = uuidRegex.test(received);\n\n    return {\n      pass,\n      message: () =>\n        pass\n          ? `Expected ${received} not to be a valid UUID`\n          : `Expected ${received} to be a valid UUID`,\n    };\n  },\n\n  /**\n   * Prüft ob ein String ein JWT Token ist\n   */\n  toBeJWT(received: string) {\n    const jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\n    const pass = jwtRegex.test(received);\n\n    return {\n      pass,\n      message: () =>\n        pass\n          ? `Expected ${received} not to be a JWT token`\n          : `Expected ${received} to be a JWT token`,\n    };\n  },\n});\n\n// TypeScript Deklaration für Custom Matchers\ndeclare module 'expect' {\n  interface Matchers<R> {\n    toBeUUID(): R;\n    toBeJWT(): R;\n  }\n}\n\n// ========================================\n// GLOBAL TEST UTILITIES\n// ========================================\n\n// Erhöhe Timeout für langsame Tests\njest.setTimeout(10000);\n"],"version":3}