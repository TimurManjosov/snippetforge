{"file":"/home/runner/work/snippetforge/snippetforge/apps/api/test/mocks/auth.mock.ts","mappings":";AAAA,0BAA0B;;;AA+D1B,0DAOC;AAKD,wDAKC;AAKD,oDASC;AA1FD,6CAAkD;AAElD;;;;GAIG;AAEH,2CAA2C;AAC3C,gBAAgB;AAChB,2CAA2C;AAEpC,MAAM,qBAAqB,GAAG,GAAG,EAAE,CAAC,CAAC;IAC1C,QAAQ,EAAE,IAAI,CAAC,EAAE,EAAE;IACnB,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE;IAChB,gBAAgB,EAAE,IAAI,CAAC,EAAE,EAAE;IAC3B,cAAc,EAAE,IAAI,CAAC,EAAE,EAAE;CAC1B,CAAC,CAAC;AALU,QAAA,qBAAqB,yBAK/B;AAII,MAAM,oBAAoB,GAAG,GAAwB,EAAE,CAAC,CAAC;IAC9D,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,gBAAgB,CAAC;IACjD,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,iBAAiB,CAAC,gBAAgB,CAAC;IACxD,MAAM,EAAE,IAAI;SACT,EAAE,EAAE;SACJ,eAAe,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC5E,WAAW,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,iBAAiB,CAAC;QACvC,GAAG,EAAE,SAAS;QACd,KAAK,EAAE,eAAe;QACtB,IAAI,EAAE,MAAM;KACb,CAAC;IACF,MAAM,EAAE,IAAI;SACT,EAAE,EAAE;SACJ,eAAe,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;CAC7E,CAAC,CAAC;AAdU,QAAA,oBAAoB,wBAc9B;AAIH,2CAA2C;AAC3C,iBAAiB;AACjB,2CAA2C;AAEpC,MAAM,mBAAmB,GAAG,GAAG,EAAE,CAAC,CAAC;IACxC,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE;IACd,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE;IACjB,cAAc,EAAE,IAAI,CAAC,EAAE,EAAE;IACzB,iBAAiB,EAAE,IAAI,CAAC,EAAE,EAAE;CAC7B,CAAC,CAAC;AALU,QAAA,mBAAmB,uBAK7B;AAIH,2CAA2C;AAC3C,YAAY;AACZ,2CAA2C;AAE3C;;GAEG;AACH,SAAgB,uBAAuB;IACrC,OAAO;QACL,WAAW,EACT,sIAAsI;QACxI,SAAS,EAAE,QAAQ;QACnB,SAAS,EAAE,GAAG;KACf,CAAC;AACJ,CAAC;AAED;;GAEG;AACH,SAAgB,sBAAsB,CAAC,aAAa,GAAG,EAAE;IACvD,OAAO;QACL,IAAI,EAAE,IAAA,+BAAkB,EAAC,aAAa,CAAC;QACvC,MAAM,EAAE,uBAAuB,EAAE;KAClC,CAAC;AACJ,CAAC;AAED;;GAEG;AACH,SAAgB,oBAAoB,CAAC,SAAS,GAAG,EAAE;IACjD,OAAO;QACL,GAAG,EAAE,kBAAkB;QACvB,KAAK,EAAE,kBAAkB;QACzB,IAAI,EAAE,MAAM;QACZ,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;QAClC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG;QACxC,GAAG,SAAS;KACb,CAAC;AACJ,CAAC","names":[],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/test/mocks/auth.mock.ts"],"sourcesContent":["// test/mocks/auth.mock.ts\n\nimport { JwtService } from '@nestjs/jwt';\nimport { type AuthResponse, type TokenResponse } from '../../src/modules/auth';\nimport { createMockSafeUser } from './users.mock';\n\n/**\n * Auth Mocks\n *\n * Mock-Implementierungen fÃ¼r AuthService und JwtService.\n */\n\n// ========================================\n// SERVICE MOCKS\n// ========================================\n\nexport const createMockAuthService = () => ({\n  register: jest.fn(),\n  login: jest.fn(),\n  validateUserById: jest.fn(),\n  getCurrentUser: jest.fn(),\n});\n\nexport type MockAuthService = ReturnType<typeof createMockAuthService>;\n\nexport const createMockJwtService = (): Partial<JwtService> => ({\n  sign: jest.fn().mockReturnValue('mock-jwt-token'),\n  signAsync: jest.fn().mockResolvedValue('mock-jwt-token'),\n  verify: jest\n    .fn()\n    .mockReturnValue({ sub: 'user-id', email: 'test@test.com', role: 'USER' }),\n  verifyAsync: jest.fn().mockResolvedValue({\n    sub: 'user-id',\n    email: 'test@test.com',\n    role: 'USER',\n  }),\n  decode: jest\n    .fn()\n    .mockReturnValue({ sub: 'user-id', email: 'test@test.com', role: 'USER' }),\n});\n\nexport type MockJwtService = ReturnType<typeof createMockJwtService>;\n\n// ========================================\n// REFLECTOR MOCK\n// ========================================\n\nexport const createMockReflector = () => ({\n  get: jest.fn(),\n  getAll: jest.fn(),\n  getAllAndMerge: jest.fn(),\n  getAllAndOverride: jest.fn(),\n});\n\nexport type MockReflector = ReturnType<typeof createMockReflector>;\n\n// ========================================\n// TEST DATA\n// ========================================\n\n/**\n * Erstellt eine Mock TokenResponse\n */\nexport function createMockTokenResponse(): TokenResponse {\n  return {\n    accessToken:\n      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0LXVzZXItaWQiLCJlbWFpbCI6InRlc3RAdGVzdC5jb20iLCJyb2xlIjoiVVNFUiJ9.mock-signature',\n    tokenType: 'Bearer',\n    expiresIn: 900,\n  };\n}\n\n/**\n * Erstellt eine Mock AuthResponse\n */\nexport function createMockAuthResponse(userOverrides = {}): AuthResponse {\n  return {\n    user: createMockSafeUser(userOverrides),\n    tokens: createMockTokenResponse(),\n  };\n}\n\n/**\n * Erstellt einen Mock JWT Payload\n */\nexport function createMockJwtPayload(overrides = {}) {\n  return {\n    sub: 'test-user-id-123',\n    email: 'test@example.com',\n    role: 'USER',\n    iat: Math.floor(Date.now() / 1000),\n    exp: Math.floor(Date.now() / 1000) + 900,\n    ...overrides,\n  };\n}\n"],"version":3}