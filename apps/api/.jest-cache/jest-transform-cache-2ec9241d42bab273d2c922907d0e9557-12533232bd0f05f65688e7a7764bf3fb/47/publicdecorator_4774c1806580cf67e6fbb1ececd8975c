9fa9c49f7b64155bbfceb4a3e0277575
"use strict";
// src/modules/auth/decorators/public.decorator.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.Public = exports.IS_PUBLIC_KEY = void 0;
const common_1 = require("@nestjs/common");
/**
 * Metadata Key für @Public() Decorator
 * Wird von JwtAuthGuard gelesen
 */
exports.IS_PUBLIC_KEY = 'isPublic';
/**
 * @Public() Decorator - Markiert Route als öffentlich (keine Auth nötig)
 *
 * WARUM brauchen wir das?
 * Wenn JwtAuthGuard global aktiv ist, sind ALLE Routes geschützt.
 * Manche Routes (Login, Register, Health) müssen aber öffentlich sein.
 *
 * VERWENDUNG:
 * @Public()
 * @Post('login')
 * login() {}
 *
 * @Public()
 * @Get('health')
 * healthCheck() {}
 *
 * WIE ES FUNKTIONIERT:
 * 1. SetMetadata speichert { isPublic: true } auf Route
 * 2. JwtAuthGuard liest Metadata via Reflector
 * 3. Wenn isPublic === true, wird Auth übersprungen
 */
const Public = () => (0, common_1.SetMetadata)(exports.IS_PUBLIC_KEY, true);
exports.Public = Public;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmsvc25pcHBldGZvcmdlL3NuaXBwZXRmb3JnZS9hcHBzL2FwaS9zcmMvbW9kdWxlcy9hdXRoL2RlY29yYXRvcnMvcHVibGljLmRlY29yYXRvci50cyIsIm1hcHBpbmdzIjoiO0FBQUEsa0RBQWtEOzs7QUFFbEQsMkNBQTZDO0FBRTdDOzs7R0FHRztBQUNVLFFBQUEsYUFBYSxHQUFHLFVBQVUsQ0FBQztBQUV4Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FvQkc7QUFDSSxNQUFNLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFBLG9CQUFXLEVBQUMscUJBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUFoRCxRQUFBLE1BQU0sVUFBMEMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmsvc25pcHBldGZvcmdlL3NuaXBwZXRmb3JnZS9hcHBzL2FwaS9zcmMvbW9kdWxlcy9hdXRoL2RlY29yYXRvcnMvcHVibGljLmRlY29yYXRvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbW9kdWxlcy9hdXRoL2RlY29yYXRvcnMvcHVibGljLmRlY29yYXRvci50c1xuXG5pbXBvcnQgeyBTZXRNZXRhZGF0YSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcblxuLyoqXG4gKiBNZXRhZGF0YSBLZXkgZsO8ciBAUHVibGljKCkgRGVjb3JhdG9yXG4gKiBXaXJkIHZvbiBKd3RBdXRoR3VhcmQgZ2VsZXNlblxuICovXG5leHBvcnQgY29uc3QgSVNfUFVCTElDX0tFWSA9ICdpc1B1YmxpYyc7XG5cbi8qKlxuICogQFB1YmxpYygpIERlY29yYXRvciAtIE1hcmtpZXJ0IFJvdXRlIGFscyDDtmZmZW50bGljaCAoa2VpbmUgQXV0aCBuw7Z0aWcpXG4gKlxuICogV0FSVU0gYnJhdWNoZW4gd2lyIGRhcz9cbiAqIFdlbm4gSnd0QXV0aEd1YXJkIGdsb2JhbCBha3RpdiBpc3QsIHNpbmQgQUxMRSBSb3V0ZXMgZ2VzY2jDvHR6dC5cbiAqIE1hbmNoZSBSb3V0ZXMgKExvZ2luLCBSZWdpc3RlciwgSGVhbHRoKSBtw7xzc2VuIGFiZXIgw7ZmZmVudGxpY2ggc2Vpbi5cbiAqXG4gKiBWRVJXRU5EVU5HOlxuICogQFB1YmxpYygpXG4gKiBAUG9zdCgnbG9naW4nKVxuICogbG9naW4oKSB7fVxuICpcbiAqIEBQdWJsaWMoKVxuICogQEdldCgnaGVhbHRoJylcbiAqIGhlYWx0aENoZWNrKCkge31cbiAqXG4gKiBXSUUgRVMgRlVOS1RJT05JRVJUOlxuICogMS4gU2V0TWV0YWRhdGEgc3BlaWNoZXJ0IHsgaXNQdWJsaWM6IHRydWUgfSBhdWYgUm91dGVcbiAqIDIuIEp3dEF1dGhHdWFyZCBsaWVzdCBNZXRhZGF0YSB2aWEgUmVmbGVjdG9yXG4gKiAzLiBXZW5uIGlzUHVibGljID09PSB0cnVlLCB3aXJkIEF1dGggw7xiZXJzcHJ1bmdlblxuICovXG5leHBvcnQgY29uc3QgUHVibGljID0gKCkgPT4gU2V0TWV0YWRhdGEoSVNfUFVCTElDX0tFWSwgdHJ1ZSk7XG4iXSwidmVyc2lvbiI6M30=