{"file":"/home/runner/work/snippetforge/snippetforge/apps/api/test/unit/dto/snippets/update-snippet.dto.spec.ts","mappings":"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","names":[],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/test/unit/dto/snippets/update-snippet.dto.spec.ts"],"sourcesContent":["// test/unit/dto/snippets/update-snippet.dto.spec.ts\n\nimport {\n  UpdateSnippetSchema,\n  validateUpdateSnippetDto,\n  safeValidateUpdateSnippetDto,\n  type UpdateSnippetDto,\n} from '../../../../src/modules/snippets/dto/update-snippet.dto';\n\n/**\n * UpdateSnippetDto Unit Tests\n *\n * Testet:\n * - Partial Updates funktionieren\n * - Valide Daten werden transformiert\n * - Invalide Daten werden abgelehnt\n * - Transformationen (trim, lowercase) funktionieren\n * - Nullable description funktioniert\n */\ndescribe('UpdateSnippetDto', () => {\n  describe('UpdateSnippetSchema', () => {\n    describe('with valid data', () => {\n      it('should validate update with all fields', () => {\n        // Arrange\n        const input = {\n          title: 'Updated Title',\n          description: 'Updated description',\n          code: 'console.log(\"updated\");',\n          language: 'typescript',\n          isPublic: false,\n        };\n\n        // Act\n        const result = UpdateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.title).toBe('Updated Title');\n        expect(result.description).toBe('Updated description');\n        expect(result.code).toBe('console.log(\"updated\");');\n        expect(result.language).toBe('typescript');\n        expect(result.isPublic).toBe(false);\n      });\n\n      it('should validate update with only title', () => {\n        // Arrange\n        const input = {\n          title: 'New Title',\n        };\n\n        // Act\n        const result = UpdateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.title).toBe('New Title');\n        expect(result.description).toBeUndefined();\n        expect(result.code).toBeUndefined();\n        expect(result.language).toBeUndefined();\n        expect(result.isPublic).toBeUndefined();\n      });\n\n      it('should validate update with only code', () => {\n        // Arrange\n        const input = {\n          code: 'new code',\n        };\n\n        // Act\n        const result = UpdateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.code).toBe('new code');\n        expect(result.title).toBeUndefined();\n      });\n\n      it('should validate update with only isPublic', () => {\n        // Arrange\n        const input = {\n          isPublic: true,\n        };\n\n        // Act\n        const result = UpdateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.isPublic).toBe(true);\n      });\n\n      it('should allow null description to clear it', () => {\n        // Arrange\n        const input = {\n          description: null,\n        };\n\n        // Act\n        const result = UpdateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.description).toBeNull();\n      });\n\n      it('should trim whitespace from title', () => {\n        // Arrange\n        const input = {\n          title: '  Trimmed  ',\n        };\n\n        // Act\n        const result = UpdateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.title).toBe('Trimmed');\n      });\n\n      it('should trim whitespace from description', () => {\n        // Arrange\n        const input = {\n          description: '  Trimmed Description  ',\n        };\n\n        // Act\n        const result = UpdateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.description).toBe('Trimmed Description');\n      });\n\n      it('should convert language to lowercase', () => {\n        // Arrange\n        const input = {\n          language: 'PYTHON',\n        };\n\n        // Act\n        const result = UpdateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result.language).toBe('python');\n      });\n\n      it('should validate empty update (no changes)', () => {\n        // Arrange\n        const input = {};\n\n        // Act\n        const result = UpdateSnippetSchema.parse(input);\n\n        // Assert\n        expect(result).toEqual({});\n      });\n    });\n\n    describe('with invalid data', () => {\n      it('should reject empty title when provided', () => {\n        // Arrange\n        const input = {\n          title: '',\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject title exceeding 200 characters', () => {\n        // Arrange\n        const input = {\n          title: 'a'.repeat(201),\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject description exceeding 1000 characters', () => {\n        // Arrange\n        const input = {\n          description: 'a'.repeat(1001),\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject empty code when provided', () => {\n        // Arrange\n        const input = {\n          code: '',\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject code exceeding 50000 characters', () => {\n        // Arrange\n        const input = {\n          code: 'a'.repeat(50001),\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject empty language when provided', () => {\n        // Arrange\n        const input = {\n          language: '',\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject language with invalid characters', () => {\n        // Arrange\n        const input = {\n          language: 'C++',\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject language with spaces', () => {\n        // Arrange\n        const input = {\n          language: 'type script',\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject invalid isPublic type', () => {\n        // Arrange\n        const input = {\n          isPublic: 'true',\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n\n      it('should reject non-boolean isPublic', () => {\n        // Arrange\n        const input = {\n          isPublic: 1,\n        };\n\n        // Act & Assert\n        expect(() => UpdateSnippetSchema.parse(input)).toThrow();\n      });\n    });\n  });\n\n  describe('validateUpdateSnippetDto', () => {\n    it('should parse valid partial update', () => {\n      // Arrange\n      const input = {\n        title: 'Updated',\n      };\n\n      // Act\n      const result = validateUpdateSnippetDto(input);\n\n      // Assert\n      expect(result).toBeDefined();\n      expect(result.title).toBe('Updated');\n    });\n\n    it('should throw on invalid data', () => {\n      // Arrange\n      const input = {\n        title: '',\n      };\n\n      // Act & Assert\n      expect(() => validateUpdateSnippetDto(input)).toThrow();\n    });\n  });\n\n  describe('safeValidateUpdateSnippetDto', () => {\n    it('should return success for valid data', () => {\n      // Arrange\n      const input = {\n        language: 'rust',\n      };\n\n      // Act\n      const result = safeValidateUpdateSnippetDto(input);\n\n      // Assert\n      expect(result.success).toBe(true);\n      if (result.success) {\n        expect(result.data.language).toBe('rust');\n      }\n    });\n\n    it('should return error for invalid data', () => {\n      // Arrange\n      const input = {\n        code: '',\n      };\n\n      // Act\n      const result = safeValidateUpdateSnippetDto(input);\n\n      // Assert\n      expect(result.success).toBe(false);\n      if (!result.success) {\n        expect(result.error).toBeDefined();\n      }\n    });\n\n    it('should return success for empty update', () => {\n      // Arrange\n      const input = {};\n\n      // Act\n      const result = safeValidateUpdateSnippetDto(input);\n\n      // Assert\n      expect(result.success).toBe(true);\n    });\n  });\n\n  describe('type inference', () => {\n    it('should infer correct TypeScript type with all optional fields', () => {\n      // Arrange\n      const update: UpdateSnippetDto = {\n        title: 'Test',\n        description: 'desc',\n        code: 'code',\n        language: 'javascript',\n        isPublic: true,\n      };\n\n      // Assert - TypeScript should not complain\n      expect(update.title).toBeDefined();\n    });\n\n    it('should allow partial updates', () => {\n      // Arrange\n      const update: UpdateSnippetDto = {\n        title: 'Only title',\n      };\n\n      // Assert - TypeScript should not complain\n      expect(update.title).toBeDefined();\n    });\n\n    it('should allow null description', () => {\n      // Arrange\n      const update: UpdateSnippetDto = {\n        description: null,\n      };\n\n      // Assert - TypeScript should not complain\n      expect(update.description).toBeNull();\n    });\n  });\n});\n"],"version":3}