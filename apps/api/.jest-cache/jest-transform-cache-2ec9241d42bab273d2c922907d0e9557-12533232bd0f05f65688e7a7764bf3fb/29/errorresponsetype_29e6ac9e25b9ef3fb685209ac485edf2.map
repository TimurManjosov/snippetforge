{"version":3,"names":["cov_2fqiw515zh","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","createErrorResponse","params","success","error","code","message","statusCode","details","meta","timestamp","Date","toISOString","method","requestId"],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/src/shared/types/error-response.type.ts"],"sourcesContent":["// src/shared/types/error-response.type.ts\n\nimport { type ErrorCode } from '../constants';\n\n/**\n * Standard Error Response Format\n *\n * WARUM dieses Format?\n * 1. Konsistenz: Frontend kann ALLE Errors gleich parsen\n * 2. Debugging: Meta-Daten helfen bei Fehlersuche\n * 3. Machine-Readable: Error Code für programmatische Verarbeitung\n * 4. Human-Readable: Message für Anzeige\n *\n * STRUKTUR:\n * {\n *   success: false,              // Schneller Check\n *   error: {\n *     code: \"AUTH_TOKEN_EXPIRED\", // Machine-readable\n *     message: \"Token expired\",   // Human-readable\n *     statusCode: 401,            // HTTP Status\n *     details?: {...}           // Zusätzliche Infos (Validation Errors)\n *   },\n *   meta: {\n *     timestamp: \"...\",           // Wann der Error auftrat\n *     path: \"/api/auth/me\",       // Welcher Endpoint\n *     method: \"GET\",              // Welche HTTP Methode\n *     requestId?: \"...\"           // Für Tracing (optional)\n *   }\n * }\n */\n\n/**\n * Error Details - Zusätzliche Informationen zum Error\n */\nexport interface ErrorDetails {\n  /** Feld-spezifische Validation Errors */\n  fields?: Record<string, string[]>;\n\n  /** Zusätzliche Kontext-Informationen */\n  context?: Record<string, unknown>;\n}\n\n/**\n * Error Object innerhalb der Response\n */\nexport interface ErrorObject {\n  /** Machine-readable Error Code */\n  code: ErrorCode;\n\n  /** Human-readable Error Message */\n  message: string;\n\n  /** HTTP Status Code */\n  statusCode: number;\n\n  /** Optionale Details (z.B. Validation Errors) */\n  details?: ErrorDetails;\n}\n\n/**\n * Meta-Informationen zur Response\n */\nexport interface ResponseMeta {\n  /** ISO 8601 Timestamp */\n  timestamp: string;\n\n  /** Request Path */\n  path: string;\n\n  /** HTTP Method */\n  method: string;\n\n  /** Request ID für Tracing (falls vorhanden) */\n  requestId?: string;\n}\n\n/**\n * Vollständige Error Response\n */\nexport interface ErrorResponse {\n  /** Immer false bei Errors */\n  success: false;\n\n  /** Error Details */\n  error: ErrorObject;\n\n  /** Meta-Informationen */\n  meta: ResponseMeta;\n}\n\n/**\n * Factory Function für Error Response\n *\n * WARUM Factory statt Constructor?\n * - Einfacher zu verwenden\n * - Keine Klassen-Instanziierung nötig\n * - Bessere Tree-Shaking Möglichkeit\n *\n * @param params - Error Parameter\n * @returns Formatierte Error Response\n */\nexport function createErrorResponse(params: {\n  code: ErrorCode;\n  message: string;\n  statusCode: number;\n  path: string;\n  method: string;\n  details?: ErrorDetails;\n  requestId?: string;\n}): ErrorResponse {\n  return {\n    success: false,\n    error: {\n      code: params.code,\n      message: params.message,\n      statusCode: params.statusCode,\n      ...(params.details && { details: params.details }),\n    },\n    meta: {\n      timestamp: new Date().toISOString(),\n      path: params.path,\n      method: params.method,\n      ...(params.requestId && { requestId: params.requestId }),\n    },\n  };\n}\n"],"mappings":"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","ignoreList":[]}