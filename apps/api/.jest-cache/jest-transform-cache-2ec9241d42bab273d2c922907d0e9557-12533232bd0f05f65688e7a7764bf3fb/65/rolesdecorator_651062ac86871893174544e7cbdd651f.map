{"file":"/home/runner/work/snippetforge/snippetforge/apps/api/src/modules/auth/decorators/roles.decorator.ts","mappings":";AAAA,iDAAiD;;;AAEjD,2CAA6C;AAE7C;;;GAGG;AACU,QAAA,SAAS,GAAG,OAAO,CAAC;AAQjC;;;;;;;;;;;;;;;;;GAiBG;AACI,MAAM,KAAK,GAAG,CAAC,GAAG,KAAa,EAAE,EAAE,CAAC,IAAA,oBAAW,EAAC,iBAAS,EAAE,KAAK,CAAC,CAAC;AAA5D,QAAA,KAAK,SAAuD","names":[],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/src/modules/auth/decorators/roles.decorator.ts"],"sourcesContent":["// src/modules/auth/decorators/roles.decorator.ts\n\nimport { SetMetadata } from '@nestjs/common';\n\n/**\n * Metadata Key für @Roles() Decorator\n * Wird von RolesGuard gelesen\n */\nexport const ROLES_KEY = 'roles';\n\n/**\n * Erlaubte Rollen (aus DB Schema)\n * Type-Safety: Nur diese Werte können übergeben werden\n */\nexport type Role = 'USER' | 'ADMIN' | 'MODERATOR';\n\n/**\n * @Roles() Decorator - Definiert welche Rollen Zugriff haben\n *\n * VERWENDUNG:\n * @Roles('ADMIN')\n * @UseGuards(JwtAuthGuard, RolesGuard)\n * deleteUser() {}\n *\n * // Mehrere Rollen (OR - eine reicht)\n * @Roles('ADMIN', 'MODERATOR')\n * @UseGuards(JwtAuthGuard, RolesGuard)\n * moderateContent() {}\n *\n * WICHTIG: Immer mit RolesGuard kombinieren!\n * @Roles() alleine macht nichts.\n *\n * @param roles - Erlaubte Rollen (mindestens eine muss User haben)\n */\nexport const Roles = (...roles: Role[]) => SetMetadata(ROLES_KEY, roles);\n"],"version":3}