{"file":"/home/runner/work/snippetforge/snippetforge/apps/api/src/shared/types/api-response.type.ts","mappings":";AAAA,wCAAwC;;AA2ExC,8CAIC;AAKD,0CAIC;AA1BD;;;;;;;;;;;;GAYG;AACH,SAAgB,iBAAiB,CAC/B,QAAsB;IAEtB,OAAO,QAAQ,CAAC,OAAO,KAAK,IAAI,CAAC;AACnC,CAAC;AAED;;GAEG;AACH,SAAgB,eAAe,CAC7B,QAA4B;IAE5B,OAAO,QAAQ,CAAC,OAAO,KAAK,KAAK,CAAC;AACpC,CAAC","names":[],"sources":["/home/runner/work/snippetforge/snippetforge/apps/api/src/shared/types/api-response.type.ts"],"sourcesContent":["// src/shared/types/api-response.type.ts\n\n/**\n * Standardisiertes API Response Format\n *\n * WARUM ein einheitliches Format?\n * 1. Frontend kann ALLE Responses gleich parsen\n * 2. Error Handling ist konsistent\n * 3. Pagination/Meta-Daten haben festen Platz\n *\n * STRUKTUR:\n * - success: boolean → Schneller Check ob Request erfolgreich\n * - data: T → Die eigentlichen Daten (generisch typisiert)\n * - error: object → Fehlerdetails (nur bei Fehlern)\n * - meta: object → Pagination, Timestamps, etc.\n */\n\n/**\n * Standard Success Response\n * Verwendet für alle erfolgreichen API-Antworten\n */\nexport interface ApiResponse<T = unknown> {\n  success: true;\n  data: T;\n  meta?: ApiResponseMeta;\n}\n\n/**\n * Standard Error Response\n * Verwendet für alle Fehler-Antworten\n */\nexport interface ApiErrorResponse {\n  success: false;\n  error: {\n    code: string; // Machine-readable:  'USER_NOT_FOUND', 'VALIDATION_ERROR'\n    message: string; // Human-readable: 'User with this email not found'\n    details?: unknown; // Zusätzliche Infos (z.B. Validation Errors)\n  };\n  meta?: ApiResponseMeta;\n}\n\n/**\n * Meta-Informationen für Responses\n * Pagination, Timestamps, Request-IDs\n */\nexport interface ApiResponseMeta {\n  timestamp?: string; // ISO 8601 Timestamp\n  requestId?: string; // Für Debugging/Tracing\n  pagination?: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\n/**\n * Union Type für alle möglichen Responses\n * Nützlich für Type Guards\n */\nexport type ApiResult<T = unknown> = ApiResponse<T> | ApiErrorResponse;\n\n/**\n * Type Guard:  Prüft ob Response erfolgreich ist\n *\n * Verwendung:\n * ```typescript\n * const result = await api.getUser(id)\n * if (isSuccessResponse(result)) {\n *   console.log(result.data.email) // TypeScript weiß:  data existiert\n * } else {\n *   console.log(result.error.message) // TypeScript weiß: error existiert\n * }\n * ```\n */\nexport function isSuccessResponse<T>(\n  response: ApiResult<T>,\n): response is ApiResponse<T> {\n  return response.success === true;\n}\n\n/**\n * Type Guard: Prüft ob Response ein Fehler ist\n */\nexport function isErrorResponse(\n  response: ApiResult<unknown>,\n): response is ApiErrorResponse {\n  return response.success === false;\n}\n"],"version":3}